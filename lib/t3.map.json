{"version":3,"file":"bundle.js","sources":["/Users/mauricio/Documents/web/T3/node_modules/browserify/node_modules/browser-pack/_prelude.js","/Users/mauricio/Documents/web/T3/src/index.js","/Users/mauricio/Documents/web/T3/src/lib/OrbitControls.js","/Users/mauricio/Documents/web/T3/src/controller/Application.js","/Users/mauricio/Documents/web/T3/src/model/Coordinates.js","/Users/mauricio/Documents/web/T3/src/themes/dark.js","/Users/mauricio/Documents/web/T3/src/themes/light.js","/Users/mauricio/Documents/web/T3/src/controller/Keyboard.js","/Users/mauricio/Documents/web/T3/src/controller/LoopManager.js","/Users/mauricio/Documents/web/T3/src/lib/stats.min.js","/Users/mauricio/Documents/web/T3/src/lib/dat.gui.min.js","/Users/mauricio/Documents/web/T3/node_modules/lodash/dist/lodash.js","/Users/mauricio/Documents/web/T3/src/lib/THREEx/index.js","/Users/mauricio/Documents/web/T3/src/lib/THREEx/WindowResize.js","/Users/mauricio/Documents/web/T3/src/lib/THREEx/FullScreen.js"],"names":["require","Application","t3","model","Coordinates","themes","dark","light","controller","Keyboard","LoopManager","run","module","exports","THREE","OrbitControls","object","domElement","getAutoRotationAngle","Math","PI","scope","autoRotateSpeed","getZoomScale","pow","zoomSpeed","onMouseDown","event","enabled","preventDefault","button","noRotate","state","STATE","ROTATE","rotateStart","set","clientX","clientY","noZoom","DOLLY","dollyStart","noPan","PAN","panStart","document","addEventListener","onMouseMove","onMouseUp","dispatchEvent","startEvent","element","body","rotateEnd","rotateDelta","subVectors","rotateLeft","x","clientWidth","rotateSpeed","rotateUp","y","clientHeight","copy","dollyEnd","dollyDelta","dollyIn","dollyOut","panEnd","panDelta","pan","update","removeEventListener","endEvent","NONE","onMouseWheel","stopPropagation","delta","undefined","wheelDelta","detail","onKeyDown","noKeys","keyCode","keys","UP","keyPanSpeed","BOTTOM","LEFT","RIGHT","touchstart","touches","length","TOUCH_ROTATE","pageX","pageY","TOUCH_DOLLY","dx","dy","distance","sqrt","TOUCH_PAN","touchmove","touchend","this","target","Vector3","center","minDistance","maxDistance","Infinity","autoRotate","minPolarAngle","maxPolarAngle","EPS","Vector2","panOffset","offset","phiDelta","thetaDelta","scale","lastPosition","lastQuaternion","Quaternion","target0","clone","position0","position","quat","setFromUnitVectors","up","quatInverse","inverse","changeEvent","type","angle","panLeft","te","matrix","elements","multiplyScalar","add","panUp","deltaX","deltaY","fov","sub","targetDistance","tan","top","right","left","bottom","console","warn","dollyScale","applyQuaternion","theta","atan2","z","phi","max","min","radius","sin","cos","lookAt","distanceToSquared","dot","quaternion","reset","window","prototype","Object","create","EventDispatcher","config","_","merge","id","width","innerWidth","height","innerHeight","renderImmediately","injectCache","fullScreen","theme","ambientConfig","defaultSceneConfig","fog","initialConfig","scenes","activeScene","cameras","activeCamera","renderer","keyboard","datgui","stats","loopManager","__t3cache__","initApplication","call","assert","condition","message","Stats","dat","global","THREEx","getConfig","me","setTheme","createDefaultRenderer","createDefaultScene","createDefaultCamera","createDefaultLights","initDatGui","initStats","initMask","maskVisible","initFullScreen","initKeyboard","initCoordinates","gameLoop","setActiveScene","key","addScene","scene","Scene","defaultScene","Fog","fogColor","WebGLRenderer","setClearColor","clearColor","setSize","getElementById","appendChild","setActiveCamera","addCamera","camera","PerspectiveCamera","OrthographicCamera","defaultCamera","defaults","ratio","near","far","WindowResize","bind","createCameraControls","cameraControls","AmbientLight","cache","DirectionalLight","name","mask","createElement","className","style","background","v","display","gui","GUI","autoPlace","zIndex","FullScreen","available","bindKey","mesh","animate","render","inject","lastObject","lastMethod","Object3D","remove","apply","arguments","getFromCache","options","init","QuickLaunch","axes","drawAllAxes","axisLength","axisRadius","axisTess","visible","ground","drawGround","size","color","groundColor","gridX","drawGrid","gridY","orientation","gridZ","forOwn","folder","addFolder","hasOwnProperty","onFinishChange","newValue","params","grid","Mesh","PlaneGeometry","MeshBasicMaterial","wireframe","rotation","drawAxes","axisOrientation","wrap","axisMaterial","MeshLambertMaterial","side","DoubleSide","axis","CylinderGeometry","arrow","axisXMaterial","axisYMaterial","axisZMaterial","axisX","axisY","axisZ","arrowX","arrowY","arrowZ","i","onKeyUp","get","charCodeAt","value","application","clock","Clock","pause","fps","guiControllers","paused","loop","elapsedTime","getDelta","frameRateInS","requestAnimationFrame","start","setValue","stop","__browserify_shim_require__","define","browserify_shim__define__module__export__","l","Date","now","m","g","n","o","h","p","q","r","s","f","b","t","cssText","a","innerHTML","c","children","j","d","k","e","REVISION","setMode","begin","end","textContent","firstChild","round","ex","utils","controllers","dom","css","load","rel","href","getElementsByTagName","common","Array","forEach","slice","BREAK","extend","each","isUndefined","compose","defer","setTimeout","toArray","isNull","isNaN","isArray","constructor","isObject","isNumber","isString","isBoolean","isFunction","toString","Controller","initialValue","property","__onFinishChange","__onChange","onChange","updateDisplay","getValue","isModified","match","parseFloat","HTMLEvents","MouseEvents","KeyboardEvents","makeSelectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","fakeEvent","Error","createEvent","initMouseEvent","bubbles","cancelable","clickCount","initKeyboardEvent","initKeyEvent","ctrlKey","altKey","shiftKey","metaKey","charCode","initEvent","attachEvent","unbind","detachEvent","addClass","split","indexOf","push","join","replace","removeClass","removeAttribute","splice","hasClass","RegExp","test","getWidth","getComputedStyle","getHeight","getOffset","offsetParent","offsetLeft","offsetTop","isActive","activeElement","OptionController","superclass","__select","setAttribute","selectedIndex","NumberController","__min","__max","__step","step","__impliedStep","floor","log","LN10","__precision","NumberControllerBox","__input","__truncationSuspended","blur","NumberControllerSlider","__background","__foreground","useDefaultStyles","FunctionController","__button","fire","BooleanController","__prev","__checkbox","checked","hex","interpret","litmus","conversions","THREE_CHAR_HEX","read","space","parseInt","write","SIX_CHAR_HEX","CSS_RGB","CSS_RGBA","HEX","conversionName","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","conversion","concat","factoryArgs","before","__li","CLASS_CONTROLLER_ROW","__controllers","__ul","insertBefore","onResize","__gui","nextElementSibling","firstElementChild","listen","H","borderLeftColor","__color","getRoot","__preset_select","B","__rememberedObjects","__rememberedObjectIndecesToControllers","remembered","preset","w","I","__save_row","C","u","localStorage","getItem","location","useLocalStorage","which","hide","JSON","stringify","getSaveObject","show","focus","select","save","prompt","saveAs","revert","J","__closeButton","CLASS_DRAG","__resize_handle","marginLeft","cursor","D","E","K","F","A","G","setItem","__folders","__listening","DEFAULT_WIDTH","resizable","hideable","parent","scrollable","defineProperties","closed","CLASS_CLOSED","TEXT_OPEN","TEXT_CLOSED","CLASS_MAIN","parse","CLASS_CLOSE_BUTTON","createTextNode","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","toggleHide","opacity","CLASS_TOO_TALL","addColor","removeChild","destroy","folders","open","close","childNodes","offsetHeight","remember","factory","StringController","ColorController","__state","toOriginal","__saturation_field","scrollLeft","scrollTop","__hue_field","__temp","__selector","__field_knob","__field_knob_border","__hue_knob","__input_textShadow","padding","backgroundColor","boxShadow","border","borderRadius","borderRight","marginRight","outline","textAlign","fontWeight","textShadow","COMPONENTS","marginTop","Color","defineProperty","component_from_hex","hsv_to_rgb","rgb_to_hsv","rgb_to_hex","math","NaN","hex_with_component","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","WebkitTransition","webkitTransform","layout","baseIndexOf","array","fromIndex","index","cacheIndexOf","keyPrefix","cachePush","typeCache","charAtCallback","compareAscending","ac","criteria","bc","other","createCache","first","mid","last","getObject","result","escapeStringChar","stringEscapes","getArray","arrayPool","pop","objectPool","false","null","number","string","true","releaseArray","maxPoolSize","releaseObject","runInContext","context","lodash","lodashWrapper","chainAll","__chain__","__wrapped__","baseBind","bindData","bound","partialArgs","args","thisBinding","baseCreate","func","thisArg","setBindData","baseClone","isDeep","callback","stackA","stackB","isObj","cloneableClasses","ctor","ctorByClass","boolClass","dateClass","numberClass","stringClass","regexpClass","source","reFlags","exec","lastIndex","isArr","initedStack","assign","input","objValue","nativeCreate","baseCreateCallback","argCount","identity","__bindData__","support","funcNames","funcDecomp","fnToString","reFuncName","reThis","collection","accumulator","baseCreateWrapper","isBind","partialRightArgs","isCurry","arity","bitmask","isCurryBound","isBindKey","baseDifference","values","getIndexOf","isLarge","largeArraySize","baseFlatten","isShallow","isStrict","isArguments","valIndex","valLength","resIndex","baseIsEqual","isWhere","otherType","objectTypes","otherClass","argsClass","objectClass","String","arrayClass","aWrapped","bWrapped","ctorA","ctorB","forIn","baseMerge","found","isPlainObject","stackLength","baseRandom","nativeRandom","baseUniq","isSorted","seen","computed","createAggregator","setter","createCallback","createWrapper","isPartial","isPartialRight","TypeError","unshift","creater","escapeHtmlChar","htmlEscapes","isNative","reNative","shimIsPlainObject","unescapeHtmlChar","htmlUnescapes","cloneDeep","properties","findKey","findLastKey","forOwnRight","forInRight","pairs","props","functions","sort","has","invert","isDate","isElement","nodeType","isEmpty","isEqual","isFinite","nativeIsFinite","nativeIsNaN","isRegExp","mapValues","sources","omit","pick","transform","proto","at","contains","nativeMax","every","filter","find","findLast","forEachRight","invoke","methodName","isFunc","map","current","reduce","noaccum","reduceRight","reject","sample","guard","shuffle","nativeMin","rand","some","sortBy","compact","difference","findIndex","findLastIndex","flatten","sortedIndex","initial","intersection","argsIndex","argsLength","caches","trustIndexOf","outer","lastIndexOf","pull","range","ceil","rest","low","high","union","uniq","without","xor","zip","pluck","zipObject","after","bindAll","funcs","curry","debounce","wait","maxTimeoutId","stamp","timeoutId","trailingCall","lastCalled","maxWait","trailing","leading","delayed","remaining","clearTimeout","isCalled","maxDelayed","leadingCall","delay","memoize","resolver","memoized","once","ran","partial","partialRight","throttle","debounceOptions","wrapper","constant","escape","reUnescapedHtml","mixin","chain","methodNames","noConflict","oldDash","noop","random","floating","noMin","noMax","template","text","data","settings","templateSettings","isEvaluating","imports","importsKeys","importsValues","interpolate","reNoMatch","reDelimiters","reInterpolate","reEsTemplate","evaluate","escapeValue","interpolateValue","esTemplateValue","evaluateValue","reUnescapedString","variable","hasVariable","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","sourceURL","templateCounter","Function","times","unescape","reEscapedHtml","uniqueId","prefix","idCounter","tap","interceptor","wrapperChain","wrapperToString","wrapperValueOf","root","contextProps","Boolean","Number","arrayRef","objectProto","getPrototypeOf","nativeIsArray","nativeKeys","nativeParseInt","funcClass","WinRTError","descriptor","shimKeys","iterable","&","<",">","\"","'","ownIndex","ownProps","valueOf","objProto","countBy","groupBy","indexBy","where","getTime","whitespace","radix","reLeadingSpacesAndZeros","collect","drop","eachRight","methods","tail","unique","unzip","all","any","detect","findWhere","foldl","foldr","include","take","head","callbackable","VERSION","configurable","enumerable","writable","boolean","function","\\","\n","\r","\t"," "," ","freeExports","freeModule","moduleExports","freeGlobal","amd","windowResize","aspect","updateProjectionMatrix","_hasWebkitFullScreen","_hasMozFullScreen","activated","webkitIsFullScreen","mozFullScreen","request","webkitRequestFullScreen","Element","ALLOW_KEYBOARD_INPUT","mozRequestFullScreen","cancel","webkitCancelFullScreen","mozCancelFullScreen","opts","dblclick","toggle","__bind","fn","onKeyPress"],"mappings":"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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","require('./lib/OrbitControls');\n\n/**\n * t3\n * @namespace\n * @type {Object}\n */\nvar Application = require('./controller/Application');\nvar t3 = {\n  model: {\n    Coordinates: require('./model/Coordinates'),\n  },\n  themes: {\n    dark: require('./themes/dark'),\n    light: require('./themes/light')\n  },\n  controller: {\n    Application: Application,\n    Keyboard: require('./controller/Keyboard'),\n    LoopManager: require('./controller/LoopManager')\n  },\n  Application: Application,\n\n  // aliases\n  run: Application.run\n};\nmodule.exports = t3;","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n/*global THREE, console */\n\n// This set of controls performs orbiting, dollying (zooming), and panning. It maintains\n// the \"up\" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is\n// supported.\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finter swipe\n//\n// This is a drop-in replacement for (most) TrackballControls used in examples.\n// That is, include this js file and wherever you see:\n//    \tcontrols = new THREE.TrackballControls( camera );\n//      controls.target.z = 150;\n// Simple substitute \"OrbitControls\" and the control should work as-is.\n\nTHREE.OrbitControls = function ( object, domElement ) {\n\n\tthis.object = object;\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t// API\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the control orbits around\n\t// and where it pans with respect to.\n\tthis.target = new THREE.Vector3();\n\n\t// center is old, deprecated; use \"target\" instead\n\tthis.center = this.target;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for\n\t// backwards compatibility\n\tthis.noZoom = false;\n\tthis.zoomSpeed = 1.0;\n\n\t// Limits to how far you can dolly in and out\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// Set to true to disable this control\n\tthis.noRotate = false;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to true to disable this control\n\tthis.noPan = false;\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// Set to true to disable use of the keys\n\tthis.noKeys = false;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t////////////\n\t// internals\n\n\tvar scope = this;\n\n\tvar EPS = 0.000001;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\tvar panOffset = new THREE.Vector3();\n\n\tvar offset = new THREE.Vector3();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tvar phiDelta = 0;\n\tvar thetaDelta = 0;\n\tvar scale = 1;\n\tvar pan = new THREE.Vector3();\n\n\tvar lastPosition = new THREE.Vector3();\n\tvar lastQuaternion = new THREE.Quaternion();\n\n\tvar STATE = { NONE : -1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\n\tvar state = STATE.NONE;\n\n\t// for reset\n\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\n\t// so camera.up is the orbit axis\n\n\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\tvar quatInverse = quat.clone().inverse();\n\n\t// events\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start'};\n\tvar endEvent = { type: 'end'};\n\n\tthis.rotateLeft = function ( angle ) {\n\n\t\tif ( angle === undefined ) {\n\n\t\t\tangle = getAutoRotationAngle();\n\n\t\t}\n\n\t\tthetaDelta -= angle;\n\n\t};\n\n\tthis.rotateUp = function ( angle ) {\n\n\t\tif ( angle === undefined ) {\n\n\t\t\tangle = getAutoRotationAngle();\n\n\t\t}\n\n\t\tphiDelta -= angle;\n\n\t};\n\n\t// pass in distance in world space to move left\n\tthis.panLeft = function ( distance ) {\n\n\t\tvar te = this.object.matrix.elements;\n\n\t\t// get X column of matrix\n\t\tpanOffset.set( te[ 0 ], te[ 1 ], te[ 2 ] );\n\t\tpanOffset.multiplyScalar( - distance );\n\t\t\n\t\tpan.add( panOffset );\n\n\t};\n\n\t// pass in distance in world space to move up\n\tthis.panUp = function ( distance ) {\n\n\t\tvar te = this.object.matrix.elements;\n\n\t\t// get Y column of matrix\n\t\tpanOffset.set( te[ 4 ], te[ 5 ], te[ 6 ] );\n\t\tpanOffset.multiplyScalar( distance );\n\t\t\n\t\tpan.add( panOffset );\n\n\t};\n\t\n\t// pass in x,y of change desired in pixel space,\n\t// right and down are positive\n\tthis.pan = function ( deltaX, deltaY ) {\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tif ( scope.object.fov !== undefined ) {\n\n\t\t\t// perspective\n\t\t\tvar position = scope.object.position;\n\t\t\tvar offset = position.clone().sub( scope.target );\n\t\t\tvar targetDistance = offset.length();\n\n\t\t\t// half of the fov is center to top of screen\n\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\tscope.panLeft( 2 * deltaX * targetDistance / element.clientHeight );\n\t\t\tscope.panUp( 2 * deltaY * targetDistance / element.clientHeight );\n\n\t\t} else if ( scope.object.top !== undefined ) {\n\n\t\t\t// orthographic\n\t\t\tscope.panLeft( deltaX * (scope.object.right - scope.object.left) / element.clientWidth );\n\t\t\tscope.panUp( deltaY * (scope.object.top - scope.object.bottom) / element.clientHeight );\n\n\t\t} else {\n\n\t\t\t// camera neither orthographic or perspective\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\n\t\t}\n\n\t};\n\n\tthis.dollyIn = function ( dollyScale ) {\n\n\t\tif ( dollyScale === undefined ) {\n\n\t\t\tdollyScale = getZoomScale();\n\n\t\t}\n\n\t\tscale /= dollyScale;\n\n\t};\n\n\tthis.dollyOut = function ( dollyScale ) {\n\n\t\tif ( dollyScale === undefined ) {\n\n\t\t\tdollyScale = getZoomScale();\n\n\t\t}\n\n\t\tscale *= dollyScale;\n\n\t};\n\n\tthis.update = function () {\n\n\t\tvar position = this.object.position;\n\n\t\toffset.copy( position ).sub( this.target );\n\n\t\t// rotate offset to \"y-axis-is-up\" space\n\t\toffset.applyQuaternion( quat );\n\n\t\t// angle from z-axis around y-axis\n\n\t\tvar theta = Math.atan2( offset.x, offset.z );\n\n\t\t// angle from y-axis\n\n\t\tvar phi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\n\t\tif ( this.autoRotate ) {\n\n\t\t\tthis.rotateLeft( getAutoRotationAngle() );\n\n\t\t}\n\n\t\ttheta += thetaDelta;\n\t\tphi += phiDelta;\n\n\t\t// restrict phi to be between desired limits\n\t\tphi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\n\t\t// restrict phi to be betwee EPS and PI-EPS\n\t\tphi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\n\t\tvar radius = offset.length() * scale;\n\n\t\t// restrict radius to be between desired limits\n\t\tradius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\t\t\n\t\t// move target to panned location\n\t\tthis.target.add( pan );\n\n\t\toffset.x = radius * Math.sin( phi ) * Math.sin( theta );\n\t\toffset.y = radius * Math.cos( phi );\n\t\toffset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\n\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\toffset.applyQuaternion( quatInverse );\n\n\t\tposition.copy( this.target ).add( offset );\n\n\t\tthis.object.lookAt( this.target );\n\n\t\tthetaDelta = 0;\n\t\tphiDelta = 0;\n\t\tscale = 1;\n\t\tpan.set( 0, 0, 0 );\n\n\t\t// update condition is:\n\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\tif ( lastPosition.distanceToSquared( this.object.position ) > EPS\n\t\t    || 8 * (1 - lastQuaternion.dot(this.object.quaternion)) > EPS ) {\n\n\t\t\tthis.dispatchEvent( changeEvent );\n\n\t\t\tlastPosition.copy( this.object.position );\n\t\t\tlastQuaternion.copy (this.object.quaternion );\n\n\t\t}\n\n\t};\n\n\n\tthis.reset = function () {\n\n\t\tstate = STATE.NONE;\n\n\t\tthis.target.copy( this.target0 );\n\t\tthis.object.position.copy( this.position0 );\n\n\t\tthis.update();\n\n\t};\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tevent.preventDefault();\n\n\t\tif ( event.button === 0 ) {\n\t\t\tif ( scope.noRotate === true ) return;\n\n\t\t\tstate = STATE.ROTATE;\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t} else if ( event.button === 1 ) {\n\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\tstate = STATE.DOLLY;\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t} else if ( event.button === 2 ) {\n\t\t\tif ( scope.noPan === true ) return;\n\n\t\t\tstate = STATE.PAN;\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\t\tscope.dispatchEvent( startEvent );\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tif ( state === STATE.ROTATE ) {\n\n\t\t\tif ( scope.noRotate === true ) return;\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\tscope.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\tscope.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t} else if ( state === STATE.DOLLY ) {\n\n\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tscope.dollyIn();\n\n\t\t\t} else {\n\n\t\t\t\tscope.dollyOut();\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t} else if ( state === STATE.PAN ) {\n\n\t\t\tif ( scope.noPan === true ) return;\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\t\t\tpanDelta.subVectors( panEnd, panStart );\n\t\t\t\n\t\t\tscope.pan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction onMouseUp( /* event */ ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\tscope.dispatchEvent( endEvent );\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.noZoom === true ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar delta = 0;\n\n\t\tif ( event.wheelDelta !== undefined ) { // WebKit / Opera / Explorer 9\n\n\t\t\tdelta = event.wheelDelta;\n\n\t\t} else if ( event.detail !== undefined ) { // Firefox\n\n\t\t\tdelta = - event.detail;\n\n\t\t}\n\n\t\tif ( delta > 0 ) {\n\n\t\t\tscope.dollyOut();\n\n\t\t} else {\n\n\t\t\tscope.dollyIn();\n\n\t\t}\n\n\t\tscope.update();\n\t\tscope.dispatchEvent( startEvent );\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.noKeys === true || scope.noPan === true ) return;\n\t\t\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tscope.pan( 0, scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tscope.pan( 0, - scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tscope.pan( scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tscope.pan( - scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction touchstart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\tif ( scope.noRotate === true ) return;\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\t\t\t\tdollyStart.set( 0, distance );\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.noPan === true ) return;\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t}\n\n\tfunction touchmove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\tif ( scope.noRotate === true ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return;\n\n\t\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\tscope.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\tscope.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\tif ( scope.noZoom === true ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return;\n\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\tdollyEnd.set( 0, distance );\n\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\t\tscope.dollyOut();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.dollyIn();\n\n\t\t\t\t}\n\n\t\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.noPan === true ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return;\n\n\t\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\t\t\t\t\n\t\t\t\tscope.pan( panDelta.x, panDelta.y );\n\n\t\t\t\tpanStart.copy( panEnd );\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction touchend( /* event */ ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tscope.dispatchEvent( endEvent );\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tthis.domElement.addEventListener( 'contextmenu', function ( event ) { event.preventDefault(); }, false );\n\tthis.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tthis.domElement.addEventListener( 'mousewheel', onMouseWheel, false );\n\tthis.domElement.addEventListener( 'DOMMouseScroll', onMouseWheel, false ); // firefox\n\n\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\n\tthis.domElement.addEventListener( 'touchend', touchend, false );\n\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\n\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\tthis.update();\n\n};\n\nTHREE.OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\n","var _ = require('lodash');\nvar assert = function (condition, message) {\n  if (!condition) {\n    throw message || 'assertion failed';\n  }\n};\nvar Coordinates = require('../model/Coordinates');\nvar Keyboard = require('./Keyboard');\nvar LoopManager = require('./LoopManager');\nvar Stats = require('T3.Stats');\nvar dat = require('T3.dat');\nvar THREE = (typeof window !== \"undefined\" ? window.THREE : typeof global !== \"undefined\" ? global.THREE : null);\nvar THREEx = require('../lib/THREEx/');\n/**\n * @module controller/Application\n */\n\n/**\n * Each instance controls one element of the DOM, besides creating\n * the canvas for the three.js app it creates a dat.gui instance\n * (to control objects of the app with a gui) and a Stats instance\n * (to view the current framerate)\n *\n * @class\n * @param {Object} config An object containing the following:\n * @param {string} [config.id=null] The id of the DOM element to inject the elements to\n * @param {number} [config.width=window.innerWidth]\n * The width of the canvas\n * @param {number} [config.height=window.innerHeight]\n * The height of the canvas\n * @param {boolean} [config.renderImmediately=true]\n * False to disable the game loop when the application starts, if\n * you want to resume the loop call `application.loopManager.start()`\n * @param {boolean} [config.injectCache=false]\n * True to add a wrapper over `THREE.Object3D.prototype.add` and\n * `THREE.Object3D.prototype.remove` so that it catches the last element\n * and perform additional operations over it, with this mechanism\n * we allow the application to have an internal cache of the elements of\n * the application\n * @param {boolean} [config.fullScreen=false]\n * True to make this app fullscreen adding additional support for\n * window resize events\n * @param {string} [config.theme='dark']\n * Theme used in the default scene, it can be `light` or `dark`\n * @param {object} [config.ambientConfig={}]\n * Additional configuration for the ambient, see the class {@link\n * Coordinates}\n * @param {object} [config.defaultSceneConfig={}] Additional config\n * for the default scene created for this world\n */\nfunction Application(config) {\n  config = _.merge({\n    id: null,\n    width: window.innerWidth,\n    height: window.innerHeight,\n    renderImmediately: true,\n    injectCache: false,\n    fullScreen: false,\n    theme: 'dark',\n    ambientConfig: {},\n    defaultSceneConfig: {\n      fog: true\n    }\n  }, config);\n\n  this.initialConfig = config;\n\n  /**\n   * Scenes in this world, each scene should be mapped with\n   * a unique id\n   * @type {Object}\n   */\n  this.scenes = {};\n\n  /**\n   * The active scene of this world\n   * @type {THREE.Scene}\n   */\n  this.activeScene = null;\n\n  /**\n   * Reference to the cameras used in this world\n   * @type {Array}\n   */\n  this.cameras = {},\n\n  /**\n   * The world can have many cameras, so the this is a reference to\n   * the active camera that's being used right now\n   * @type {T3.model.Camera}\n   */\n  this.activeCamera = null;\n\n  /**\n   * THREE Renderer\n   * @type {Object}\n   */\n  this.renderer = null;\n\n  /**\n   * Keyboard manager\n   * @type {Object}\n   */\n  this.keyboard = null;\n\n  /**\n   * Dat gui manager\n   * @type {Object}\n   */\n  this.datgui = null;\n\n  /**\n   * Reference to the Stats instance (needed to call update\n   * on the method {@link module:controller/Application#update})\n   * @type {Object}\n   */\n  this.stats = null;\n\n  /**\n   * Reference to the local loop manager\n   * @type {LoopManager}\n   */\n  this.loopManager = null;\n\n  /**\n   * Colors for the default scene\n   * @type {Object}\n   */\n  this.theme = null;\n\n  /**\n   * Application cache\n   * @type {Object}\n   */\n  this.__t3cache__ = {};\n\n  Application.prototype.initApplication.call(this);\n};\n\n/**\n * Getter for the initial config\n * @return {Object}\n */\nApplication.prototype.getConfig = function () {\n  return this.initialConfig;\n};\n\n/**\n * Bootstrap the application with the following steps:\n *\n * - Enabling cache injection\n * - Set the theme\n * - Create the renderer, default scene, default camera, some random lights\n * - Initializes dat.gui, Stats, a mask when the application is paised\n * - Initializes fullScreen events, keyboard and some helper objects\n * - Calls the game loop\n *\n */\nApplication.prototype.initApplication = function () {\n  var me = this,\n    config = me.getConfig();\n\n  me.injectCache(config.injectCache);\n\n  // theme\n  me.setTheme(config.theme);\n\n  // defaults\n  me.createDefaultRenderer();\n  me.createDefaultScene();\n  me.createDefaultCamera();\n  me.createDefaultLights();\n\n  // utils\n  me.initDatGui();\n  me.initStats();\n  me.initMask()\n    .maskVisible(!config.renderImmediately);\n  me.initFullScreen();\n  me.initKeyboard();\n  me.initCoordinates();\n\n  // game loop\n  me.gameLoop();\n};\n\n/**\n * Sets the active scene (it must be a registered scene registered\n * with {@link #addScene})\n * @param {string} key The string which was used to register the scene\n * @return {this}\n */\nApplication.prototype.setActiveScene = function (key) {\n  this.activeScene = this.scenes[key];\n  return this;\n};\n\n/**\n * Adds a scene to the scene pool\n * @param {THREE.Scene} scene\n * @param {string} key\n * @return {this}\n */\nApplication.prototype.addScene = function (scene, key) {\n  console.assert(scene instanceof THREE.Scene);\n  this.scenes[key] = scene;\n  return this;\n};\n\n/**\n * Creates a scene called 'default' and sets it as the active one\n * @return {this}\n */\nApplication.prototype.createDefaultScene = function () {\n  var me = this,\n    config = me.getConfig(),\n    defaultScene = new THREE.Scene();\n  if (config.defaultSceneConfig.fog) {\n    defaultScene.fog = new THREE.Fog(me.theme.fogColor, 2000, 4000);\n  }\n  me\n    .addScene(defaultScene, 'default')\n    .setActiveScene('default');\n  return me;\n};\n\n/**\n * Creates the default THREE.WebGLRenderer used in the world\n * @return {this}\n */\nApplication.prototype.createDefaultRenderer = function () {\n  var me = this,\n    config = me.getConfig();\n  var renderer = new THREE.WebGLRenderer({\n//      antialias: true\n  });\n  renderer.setClearColor(me.theme.clearColor, 1);\n  renderer.setSize(config.width, config.height);\n  document\n    .getElementById(config.id)\n    .appendChild(renderer.domElement);\n  me.renderer = renderer;\n  return me;\n};\n\nApplication.prototype.setActiveCamera = function (key) {\n  this.activeCamera = this.cameras[key];\n  return this;\n};\n\nApplication.prototype.addCamera = function (camera, key) {\n  console.assert(camera instanceof THREE.PerspectiveCamera ||\n    camera instanceof THREE.OrthographicCamera);\n  this.cameras[key] = camera;\n  return this;\n};\n\n/**\n * Create the default camera used in this world which is\n * a `THREE.PerspectiveCamera`, it also adds orbit controls\n * by calling {@link #createCameraControls}\n */\nApplication.prototype.createDefaultCamera = function () {\n  var me = this,\n    config = me.getConfig(),\n    width = config.width,\n    height = config.height,\n    defaults = {\n      fov: 38,\n      ratio: width / height,\n      near: 1,\n      far: 10000\n    },\n    defaultCamera;\n\n  defaultCamera = new THREE.PerspectiveCamera(\n    defaults.fov,\n    defaults.ratio,\n    defaults.near,\n    defaults.far\n  );\n  defaultCamera.position.set(500, 300, 500);\n\n  // transparently support window resize\n  if (config.fullScreen) {\n    THREEx.WindowResize.bind(me.renderer, defaultCamera);\n  }\n\n  me\n    .createCameraControls(defaultCamera)\n    .addCamera(defaultCamera, 'default')\n    .setActiveCamera('default');\n\n  return me;\n};\n\n/**\n * Creates OrbitControls over the `camera` passed as param\n * @param  {THREE.PerspectiveCamera|THREE.OrtographicCamera} camera\n * @return {this}\n */\nApplication.prototype.createCameraControls = function (camera) {\n  var me = this;\n  camera.cameraControls = new THREE.OrbitControls(\n    camera,\n    me.renderer.domElement\n  );\n  // avoid panning to see the bottom face\n  camera.cameraControls.maxPolarAngle = Math.PI / 2 * 0.99;\n  camera.cameraControls.target.set(100, 100, 100);\n  // camera.cameraControls.target.set(0, 0, 0);\n  return me;\n};\n\n/**\n * Creates some random lights in the default scene\n * @return {this}\n */\nApplication.prototype.createDefaultLights = function () {\n  var light,\n      scene = this.scenes['default'];\n\n  light = new THREE.AmbientLight(0x222222);\n  scene.add(light).cache('ambient-light-1');\n\n  light = new THREE.DirectionalLight( 0xFFFFFF, 1.0 );\n  light.position.set( 200, 400, 500 );\n  scene.add(light).cache('directional-light-1');\n\n  light = new THREE.DirectionalLight( 0xFFFFFF, 1.0 );\n  light.position.set( -500, 250, -200 );\n  scene.add(light).cache('directional-light-2');\n\n  return this;\n};\n\n/**\n * Sets the theme to be used in the default scene\n * @param {string} name Either the string `dark` or `light`\n * @todo Make the theme system extensible\n * @return {this}\n */\nApplication.prototype.setTheme = function (name) {\n  var me = this,\n    themes = require('../').themes;\n  assert(themes[name]);\n  me.theme = themes[name];\n  return me;\n};\n\n/**\n * Creates a mask on top of the canvas when it's paused\n * @return {this}\n */\nApplication.prototype.initMask = function () {\n  var me = this,\n    config = me.getConfig(),\n    mask,\n    hidden;\n  mask = document.createElement('div');\n  mask.className = 't3-mask';\n  // mask.style.display = 'none';\n  mask.style.position = 'absolute';\n  mask.style.top = '0px';\n  mask.style.width = '100%';\n  mask.style.height = '100%';\n  mask.style.background = 'rgba(0,0,0,0.5)';\n\n  document\n    .getElementById(config.id)\n    .appendChild(mask);\n\n  me.mask = mask;\n  return me;\n};\n\n/**\n * Updates the mask visibility\n * @param  {boolean} v True to make it visible\n */\nApplication.prototype.maskVisible = function (v) {\n  var mask = this.mask;\n  mask.style.display = v ? 'block' : 'none';\n};\n\n/**\n * Inits the dat.gui helper which is placed under the\n * DOM element identified by the initial configuration id\n * @return {this}\n */\nApplication.prototype.initDatGui = function () {\n  var me = this,\n    config = me.getConfig(),\n    gui = new dat.GUI({\n      autoPlace: false\n    });\n\n  _.merge(gui.domElement.style, {\n    position: 'absolute',\n    top: '0px',\n    right: '0px',\n    zIndex: '1'\n  });\n  document\n    .getElementById(config.id)\n    .appendChild(gui.domElement);\n  me.datgui = gui;\n  return me;\n};\n\n/**\n * Init the Stats helper which is placed under the\n * DOM element identified by the initial configuration id\n * @return {this}\n */\nApplication.prototype.initStats = function () {\n  var me = this,\n    config = me.getConfig(),\n    stats;\n  // add Stats.js - https://github.com/mrdoob/stats.js\n  stats = new Stats();\n  _.merge(stats.domElement.style, {\n    position: 'absolute',\n    zIndex: 1,\n    bottom: '0px'\n  });\n  document\n    .getElementById(config.id)\n    .appendChild( stats.domElement );\n  me.stats = stats;\n  return me;\n};\n\n/**\n * Binds the F key to make a world go full screen\n * @todo This should be used only when the canvas is active\n */\nApplication.prototype.initFullScreen = function () {\n  var config = this.getConfig();\n  // allow 'f' to go fullscreen where this feature is supported\n  if(config.fullScreen && THREEx.FullScreen.available()) {\n    THREEx.FullScreen.bindKey();\n  }\n};\n\n/**\n * Initializes the coordinate helper (its wrapped in a model in T3)\n */\nApplication.prototype.initCoordinates = function () {\n  var config = this.getConfig();\n  this.scenes['default']\n    .add(\n      new Coordinates(config.ambientConfig, this.theme)\n        .initDatGui(this.datgui)\n        .mesh\n    );\n};\n\n/**\n * Initis the keyboard helper\n * @return {this}\n */\nApplication.prototype.initKeyboard = function () {\n  this.keyboard = new Keyboard();\n  return this;\n};\n\n/**\n * Initializes the game loop by creating an instance of {@link LoopManager}\n * @return {this}\n */\nApplication.prototype.gameLoop = function () {\n  var config = this.getConfig();\n  this.loopManager = new LoopManager(this, config.renderImmediately)\n    .initDatGui(this.datgui)\n    .animate();\n  return this;\n};\n\n/**\n * Update phase, the world updates by default:\n *\n * - The stats helper\n * - The camera controls if the active camera has one\n *\n * @param {number} delta The number of seconds elapsed\n */\nApplication.prototype.update = function (delta) {\n  var me = this;\n\n  // stats helper\n  me.stats.update();\n\n  // camera update\n  if (me.activeCamera.cameraControls) {\n    me.activeCamera.cameraControls.update(delta);\n  }\n};\n\n/**\n * Render phase, calls `this.renderer` with `this.activeScene` and\n * `this.activeCamera`\n */\nApplication.prototype.render = function () {\n  var me = this;\n  me.renderer.render(\n    me.activeScene,\n    me.activeCamera\n  );\n};\n\n/**\n * Wraps `THREE.Object3D.prototype.add` and `THREE.Object3D.prototype.remove`\n * with functions that save the last object which `add` or `remove` have been\n * called with, this allows to call the method `cache` which will cache\n * the object with an identifier allowing fast object retrieval\n *\n * @example\n *\n *   var instance = t3.Application.run({\n *     injectCache: true,\n *     init: function () {\n *       var group = new THREE.Object3D();\n *       var innerGroup = new THREE.Object3D();\n *\n *       var geometry = new THREE.BoxGeometry(1,1,1);\n *       var material = new THREE.MeshBasicMaterial({color: 0x00ff00});\n *       var cube = new THREE.Mesh(geometry, material);\n *\n *       innerGroup\n *         .add(cube)\n *         .cache('myCube');\n *\n *       group\n *         .add(innerGroup)\n *         .cache('innerGroup');\n *\n *       // removal example\n *       // group\n *       //   .remove(innerGroup)\n *       //   .cache();\n *\n *       this.activeScene\n *         .add(group)\n *         .cache('group');\n *     },\n *\n *     update: function (delta) {\n *       var cube = this.getFromCache('myCube');\n *       // perform operations on the cube\n *     }\n *   });\n *\n * @param  {boolean} inject True to enable this behavior\n */\nApplication.prototype.injectCache = function (inject) {\n  var me = this,\n      lastObject,\n      lastMethod,\n      add = THREE.Object3D.prototype.add,\n      remove = THREE.Object3D.prototype.remove,\n      cache = this.__t3cache__;\n\n  if (inject) {\n    THREE.Object3D.prototype.add = function (object) {\n      lastMethod = 'add';\n      lastObject = object;\n      return add.apply(this, arguments);\n    };\n\n    THREE.Object3D.prototype.remove = function (object) {\n      lastMethod = 'remove';\n      lastObject = object;\n      return remove.apply(this, arguments);\n    };\n\n    THREE.Object3D.prototype.cache = function (name) {\n      assert(lastObject, 'T3.Application.prototype.cache: this method' +\n        ' needs a previous call to add/remove');\n      if (lastMethod === 'add') {\n        lastObject.name = lastObject.name || name;\n        assert(lastObject.name);\n        cache[lastObject.name] = lastObject;\n      } else {\n        assert(lastObject.name);\n        delete cache[lastObject.name];\n      }\n      lastObject = null;\n      return me;\n    };\n  } else {\n    THREE.Object3D.prototype.cache = function () {\n      return this;\n    };\n  }\n};\n\n/**\n * Gets an object from the cache if `injectCache` was enabled and\n * an object was registered with {@link #cache}\n * @param  {string} name\n * @return {THREE.Object3D}\n */\nApplication.prototype.getFromCache = function (name) {\n  return this.__t3cache__[name];\n};\n\n/**\n * @static\n * Creates a subclass of Application whose instances don't need to\n * worry about the inheritance process\n * @param  {Object} options The same object passed to the {@link Application}\n * constructor\n * @param {Object} options.init Initialization phase, function called in\n * the constructor of the subclass\n * @param {Object} options.update Update phase, function called as the\n * update function of the subclass, it also calls Application's update\n * @return {t3.QuickLaunch} An instance of the subclass created in\n * this function\n */\nApplication.run = function (options) {\n  options = _.merge({\n    init: function () {},\n    update: function () {},\n  }, options);\n  assert(options.id, 'canvas id required');\n\n  var QuickLaunch = function (options) {\n    Application.call(this, options);\n    options.init.call(this, options);\n  };\n  QuickLaunch.prototype = Object.create(Application.prototype);\n\n  QuickLaunch.prototype.update = function (delta) {\n    Application.prototype.update.call(this, delta);\n    options.update.call(this, delta);\n  };\n\n  return new QuickLaunch(options);\n};\n\nmodule.exports = Application;","var _ = require('lodash');\nvar THREE = (typeof window !== \"undefined\" ? window.THREE : typeof global !== \"undefined\" ? global.THREE : null);\n\n/**\n * @module  model/Coordinates\n */\n\n/**\n * Coordinates helper, it creates the axes, ground and grids\n * shown in the world\n * @class\n * @param {Object} config\n * @param {Object} theme\n */\nfunction Coordinates(config, theme) {\n  config = config || {};\n\n  /**\n   * Group where all the objects (axes, ground, grids) are put\n   * @type {THREE.Object3D}\n   */\n  this.mesh = new THREE.Object3D();\n\n  /**\n   * Axes object, the mesh representing the axes is under this object \n   * under `mesh`\n   * @type {Object}\n   */\n  this.axes = {\n    name: 'Axes',\n    mesh: this.drawAllAxes({axisLength:100,axisRadius:1,axisTess:50}),\n    visible: config.axes !== undefined ? config.axes : true\n  },\n\n  /**\n   * Ground object, the mesh representing the axes is under this object\n   * under `mesh`\n   * @type {Object}\n   */\n  this.ground = {\n    name: 'Ground',\n    mesh: this.drawGround({size:100000, color: theme.groundColor}),\n    visible: config.ground !== undefined ? config.ground : true\n  };\n  \n  /**\n   * GridXZ object, the mesh representing the axes is under this object\n   * under `mesh`\n   * @type {Object}\n   */\n  this.gridX = {\n    name: 'XZ grid',\n    mesh: this.drawGrid({size:10000,scale:0.01}),\n    visible: config.gridX !== undefined ? config.gridX : true\n  };\n\n  /**\n   * GridYZ object, the mesh representing the axes is under this object\n   * under `mesh`\n   * @type {Object}\n   */  \n  this.gridY = {\n    name: 'YZ grid',\n    mesh: this.drawGrid({size:10000,scale:0.01, orientation:\"y\"}),\n    visible: config.gridY !== undefined ? config.gridY : false\n  };\n  \n  /**\n   * GridXY object, the mesh representing the axes is under this object\n   * under `mesh`\n   * @type {Object}\n   */\n  this.gridZ = {\n    name: 'XY grid',\n    mesh: this.drawGrid({size:10000,scale:0.01, orientation:\"z\"}),\n    visible: config.gridZ !== undefined ? config.gridZ : false\n  };\n\n  Coordinates.prototype.init.call(this, config);\n};\n\n/**\n * Adds the axes, ground, grid meshes to `this.mesh`\n * @param  {object} options\n * @return {this}\n */\nCoordinates.prototype.init = function (options) {\n  var me = this;\n  _.forOwn(me, function (v, k) {\n    if (v.mesh) {\n      me.mesh.add(v.mesh);\n      v.mesh.visible = v.visible;\n    }\n  });\n  return me;\n};\n\n/**\n * Creates a dat.gui folder which has controls for the \n * ground, axes and grids\n * @param  {dat.gui} gui\n * @return {this}\n */\nCoordinates.prototype.initDatGui = function (gui) {\n  var me = this,\n    folder;\n\n  folder = gui.addFolder('Scene helpers');\n  _.forOwn(me, function (v, k) {\n    if (v.hasOwnProperty('mesh')) {\n      folder.add(v, 'visible')\n        .name(v.name)\n        .onFinishChange(function (newValue) {\n          v.mesh.visible = newValue;\n        });\n    }\n  });\n\n  return me;\n};\n\n/**\n * Draws a grid\n * @param  {object} params\n * @param  {object} params.size=100\n * @param  {object} params.scale=0.1\n * @param  {object} params.color=#505050\n * @param  {object} params.orientation=0.1\n * @return {THREE.Mesh}\n */\nCoordinates.prototype.drawGrid = function (params) {\n  params = params || {};\n  var size = params.size !== undefined ? params.size:100;\n  var scale = params.scale !== undefined ? params.scale:0.1;\n  var color = params.color !== undefined ? params.color:'#505050';\n  var orientation = params.orientation !== undefined ? params.orientation:\"x\";\n  var grid = new THREE.Mesh(\n    new THREE.PlaneGeometry(size, size, size * scale, size * scale),\n    new THREE.MeshBasicMaterial({\n      color: color,\n      wireframe: true\n    })\n  );\n  if (orientation === \"x\") {\n    grid.rotation.x = - Math.PI / 2;\n  } else if (orientation === \"y\") {\n    grid.rotation.y = - Math.PI / 2;\n  } else if (orientation === \"z\") {\n    grid.rotation.z = - Math.PI / 2;\n  }\n  return grid;\n};\n\n/**\n * Draws the ground\n * @param  {object} params\n * @param  {object} params.size=100\n * @param  {object} params.scale=0x000000\n * @param  {object} params.offset=-0.2\n * @return {THREE.Mesh}\n */\nCoordinates.prototype.drawGround = function (params) {\n  params = params || {};\n  var size = params.size !== undefined ? params.size:100;\n  var color = params.color !== undefined ? params.color:0x000000;\n  var offset = params.offset !== undefined ? params.offset:-0.2;\n\n  var ground = new THREE.Mesh(\n    new THREE.PlaneGeometry(size, size),\n    new THREE.MeshBasicMaterial({\n      color: color\n    })\n  );\n  ground.rotation.x = - Math.PI / 2;\n  ground.position.y = offset;\n  return ground;\n};\n\n/**\n * Draws an axis\n * @param  {object} params\n * @param  {object} params.axisRadius=0.04\n * @param  {object} params.axisLength=11\n * @param  {object} params.axisTess=46\n * @param  {object} params.axisOrientation=x\n * @return {THREE.Mesh}\n */\nCoordinates.prototype.drawAxes = function (params) {\n  // x = red, y = green, z = blue  (RGB = xyz)\n  params = params || {};\n  var axisRadius = params.axisRadius !== undefined ? params.axisRadius:0.04;\n  var axisLength = params.axisLength !== undefined ? params.axisLength:11;\n  var axisTess = params.axisTess !== undefined ? params.axisTess:48;\n  var axisOrientation = params.axisOrientation !== undefined ? params.axisOrientation:\"x\";\n\n  var wrap = new THREE.Object3D();\n  var axisMaterial = new THREE.MeshLambertMaterial({ color: 0x000000, side: THREE.DoubleSide });\n  var axis = new THREE.Mesh(\n    new THREE.CylinderGeometry(axisRadius, axisRadius, axisLength, axisTess, 1, true), \n    axisMaterial\n  );\n  if (axisOrientation === \"x\") {\n    axis.rotation.z = - Math.PI / 2;\n    axis.position.x = axisLength/2-1;\n  } else if (axisOrientation === \"y\") {\n    axis.position.y = axisLength/2-1;\n  }\n  \n  wrap.add( axis );\n  \n  var arrow = new THREE.Mesh(\n    new THREE.CylinderGeometry(0, 4*axisRadius, 8*axisRadius, axisTess, 1, true), \n    axisMaterial\n  );\n  if (axisOrientation === \"x\") {\n    arrow.rotation.z = - Math.PI / 2;\n    arrow.position.x = axisLength - 1 + axisRadius*4/2;\n  } else if (axisOrientation === \"y\") {\n    arrow.position.y = axisLength - 1 + axisRadius*4/2;\n  }\n\n  wrap.add( arrow );\n  return wrap;\n};\n\n/**\n * Creates an Object3D which contains all axes\n * @param  {Object} params\n * @param  {object} params.axisRadius=0.04  cylinder radius\n * @param  {object} params.axisLength=11    cylinder length\n * @param  {object} params.axisTess=46      cylinder tesselation\n * @return {THREE.Object3D}\n */\nCoordinates.prototype.drawAllAxes = function (params) {\n  params = params || {};\n  var axisRadius = params.axisRadius !== undefined ? params.axisRadius:0.04;\n  var axisLength = params.axisLength !== undefined ? params.axisLength:11;\n  var axisTess = params.axisTess !== undefined ? params.axisTess:48;\n\n  var wrap = new THREE.Object3D();\n\n  var axisXMaterial = new THREE.MeshLambertMaterial({ color: 0xFF0000 });\n  var axisYMaterial = new THREE.MeshLambertMaterial({ color: 0x00FF00 });\n  var axisZMaterial = new THREE.MeshLambertMaterial({ color: 0x0000FF });\n  axisXMaterial.side = THREE.DoubleSide;\n  axisYMaterial.side = THREE.DoubleSide;\n  axisZMaterial.side = THREE.DoubleSide;\n  var axisX = new THREE.Mesh(\n    new THREE.CylinderGeometry(axisRadius, axisRadius, axisLength, axisTess, 1, true), \n    axisXMaterial\n  );\n  var axisY = new THREE.Mesh(\n    new THREE.CylinderGeometry(axisRadius, axisRadius, axisLength, axisTess, 1, true), \n    axisYMaterial\n  );\n  var axisZ = new THREE.Mesh(\n    new THREE.CylinderGeometry(axisRadius, axisRadius, axisLength, axisTess, 1, true), \n    axisZMaterial\n  );\n  axisX.rotation.z = - Math.PI / 2;\n  axisX.position.x = axisLength/2-1;\n\n  axisY.position.y = axisLength/2-1;\n  \n  axisZ.rotation.y = - Math.PI / 2;\n  axisZ.rotation.z = - Math.PI / 2;\n  axisZ.position.z = axisLength/2-1;\n\n  wrap.add( axisX );\n  wrap.add( axisY );\n  wrap.add( axisZ );\n\n  var arrowX = new THREE.Mesh(\n    new THREE.CylinderGeometry(0, 4*axisRadius, 4*axisRadius, axisTess, 1, true), \n    axisXMaterial\n  );\n  var arrowY = new THREE.Mesh(\n    new THREE.CylinderGeometry(0, 4*axisRadius, 4*axisRadius, axisTess, 1, true), \n    axisYMaterial\n  );\n  var arrowZ = new THREE.Mesh(\n    new THREE.CylinderGeometry(0, 4*axisRadius, 4*axisRadius, axisTess, 1, true), \n    axisZMaterial\n  );\n  arrowX.rotation.z = - Math.PI / 2;\n  arrowX.position.x = axisLength - 1 + axisRadius*4/2;\n\n  arrowY.position.y = axisLength - 1 + axisRadius*4/2;\n\n  arrowZ.rotation.z = - Math.PI / 2;\n  arrowZ.rotation.y = - Math.PI / 2;\n  arrowZ.position.z = axisLength - 1 + axisRadius*4/2;\n\n  wrap.add( arrowX );\n  wrap.add( arrowY );\n  wrap.add( arrowZ );\n  return wrap;\n};\n\nmodule.exports = Coordinates;","/**\n * @module  themes/dark\n */\n\n/**\n * Dark theme\n * @type {Object}\n */\nmodule.exports = {\n\tclearColor: 0x595959,\n\tfogColor: 0x595959,\n  groundColor: 0x393939\n};","/**\n * @module themes/light\n */\n\n/**\n * Light theme\n * @name LightTheme\n * @type {Object}\n */\nmodule.exports = {\n\tclearColor: 0xf2fcff,\n  fogColor: 0xf2fcff,\n\tgroundColor: 0xeeeeee\n};","/**\n * @module  controller/Keyboard\n */\n\n/**\n * Keyboard helper\n * @class\n */\nfunction Keyboard() {\n  /**\n   * Each index correspond to the ascii value of the\n   * key pressed\n   * @type {Array}\n   */\n  this.keys = [];\n};\n\n/**\n * Adds the keydown and keyup listeners\n */\nKeyboard.prototype.init = function () {\n  var me = this,\n    i;\n  for (i = 0; i < 256; i += 1) {\n    me.keys[i] = false;\n  }\n  document.addEventListener('keydown', me.onKeyDown(), false);\n  document.addEventListener('keyup', me.onKeyUp(), false);\n};\n\n/**\n * Sets `event.keycode` as a preseed key\n * @return {function}\n */\nKeyboard.prototype.onKeyDown = function () {\n  var me = this;\n  return function (event) {\n    me.keys[event.keyCode] = true;\n  };\n};\n\n/**\n * Sets `event.keycode` as an unpressed key\n * @return {function}\n */\nKeyboard.prototype.onKeyUp = function () {\n  var me = this;\n  return function (event) {\n    me.keys[event.keyCode] = false;\n  };\n};\n\n/**\n * Gets the pressed state of the key `key`\n * @param  {string} key\n * @return {boolean}\n */\nKeyboard.prototype.get = function (key) {\n  return this.keys[key.charCodeAt(0)];\n};\n\n/**\n * Sets the pressed state of the key `key` to `value`\n * @param {string} key\n * @param {boolean} value\n */\nKeyboard.prototype.set = function (key, value) {\n  this.keys[key.charCodeAt(0)] = value;\n};\n\nmodule.exports = Keyboard;","var THREE = (typeof window !== \"undefined\" ? window.THREE : typeof global !== \"undefined\" ? global.THREE : null);\nvar Application = require('./Application');\n\n/**\n * @module  controller/LoopManager\n */\n\n/**\n * The loop managers controls the calls made to `requestAnimationFrame`\n * of an Application\n * @class\n * @param {controller/LoopManager} application Applicaton whose frame rate\n * will be controlled\n * @param {boolean} renderImmediately True to start the call\n * to request animation frame immediately\n */\nfunction LoopManager(application, renderImmediately) {\n  /**\n   * Reference to the application\n   * @type {controller/Application}\n   */\n  this.application = application;\n  /**\n   * Clock helper (its delta method is used to update the camera)\n   * @type {THREE.Clock()}\n   */\n  this.clock = new THREE.Clock();\n  /**\n   * Toggle to pause the animation\n   * @type {boolean}\n   */\n  this.pause = !renderImmediately;\n  /**\n   * Frames per second\n   * @type {number}\n   */\n  this.fps = 60;\n\n  /**\n   * dat.gui folder objects\n   * @type {Object}\n   */\n  this.guiControllers = {};\n};\n\n/**\n * Initializes a folder to control the frame rate and sets\n * the paused state of the app\n * @param  {dat.gui} gui\n * @return {this}\n */\nLoopManager.prototype.initDatGui = function (gui) {\n  var me = this,\n      folder = gui.addFolder('Game Loop');\n  folder\n    .add(this, 'fps', 10, 60, 1)\n    .name('Frame rate');\n  \n  me.guiControllers.pause = folder\n    .add(this, 'pause')\n    .name('Paused')\n    .onFinishChange(function (paused) {\n      if (!paused) {\n        me.animate();\n      }\n      me.application.maskVisible(paused);\n    });\n  return this;\n};\n\n/**\n * Animation loop (calls application.update and application.render)\n * @return {this}\n */\nLoopManager.prototype.animate = function () {\n  var me = this,\n    elapsedTime = 0,\n    loop;\n\n  loop = function () {\n    if (me.pause) {\n      return;\n    }\n\n    var delta = me.clock.getDelta(),\n      frameRateInS = 1 / me.fps;\n\n    // constraint delta to be <= frameRate\n    // (to avoid frames with a big delta caused because of the app sent to sleep)\n    delta = Math.min(delta, frameRateInS);\n    elapsedTime += delta;\n\n    if (elapsedTime >= frameRateInS) {\n\n      // update the world and render its objects\n      me.application.update(delta);\n      me.application.render();\n\n      elapsedTime -= frameRateInS;\n    }\n\n    // details at http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n    window.requestAnimationFrame(loop);\n  };\n\n  loop();\n\n  return me;\n};\n\n/**\n * Starts the animation\n */\nLoopManager.prototype.start = function () {\n  var me = this;\n  me.guiControllers.pause.setValue(false);\n};\n\n/**\n * Stops the animation\n */\nLoopManager.prototype.stop = function () {\n  var me = this;\n  me.guiControllers.pause.setValue(true);\n};\n\nmodule.exports = LoopManager;",";__browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n// stats.js - http://github.com/mrdoob/stats.js\nvar Stats=function(){var l=Date.now(),m=l,g=0,n=Infinity,o=0,h=0,p=Infinity,q=0,r=0,s=0,f=document.createElement(\"div\");f.id=\"stats\";f.addEventListener(\"mousedown\",function(b){b.preventDefault();t(++s%2)},!1);f.style.cssText=\"width:80px;opacity:0.9;cursor:pointer\";var a=document.createElement(\"div\");a.id=\"fps\";a.style.cssText=\"padding:0 0 3px 3px;text-align:left;background-color:#002\";f.appendChild(a);var i=document.createElement(\"div\");i.id=\"fpsText\";i.style.cssText=\"color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px\";\ni.innerHTML=\"FPS\";a.appendChild(i);var c=document.createElement(\"div\");c.id=\"fpsGraph\";c.style.cssText=\"position:relative;width:74px;height:30px;background-color:#0ff\";for(a.appendChild(c);74>c.children.length;){var j=document.createElement(\"span\");j.style.cssText=\"width:1px;height:30px;float:left;background-color:#113\";c.appendChild(j)}var d=document.createElement(\"div\");d.id=\"ms\";d.style.cssText=\"padding:0 0 3px 3px;text-align:left;background-color:#020;display:none\";f.appendChild(d);var k=document.createElement(\"div\");\nk.id=\"msText\";k.style.cssText=\"color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px\";k.innerHTML=\"MS\";d.appendChild(k);var e=document.createElement(\"div\");e.id=\"msGraph\";e.style.cssText=\"position:relative;width:74px;height:30px;background-color:#0f0\";for(d.appendChild(e);74>e.children.length;)j=document.createElement(\"span\"),j.style.cssText=\"width:1px;height:30px;float:left;background-color:#131\",e.appendChild(j);var t=function(b){s=b;switch(s){case 0:a.style.display=\n\"block\";d.style.display=\"none\";break;case 1:a.style.display=\"none\",d.style.display=\"block\"}};return{REVISION:11,domElement:f,setMode:t,begin:function(){l=Date.now()},end:function(){var b=Date.now();g=b-l;n=Math.min(n,g);o=Math.max(o,g);k.textContent=g+\" MS (\"+n+\"-\"+o+\")\";var a=Math.min(30,30-30*(g/200));e.appendChild(e.firstChild).style.height=a+\"px\";r++;b>m+1E3&&(h=Math.round(1E3*r/(b-m)),p=Math.min(p,h),q=Math.max(q,h),i.textContent=h+\" FPS (\"+p+\"-\"+q+\")\",a=Math.min(30,30-30*(h/100)),c.appendChild(c.firstChild).style.height=\na+\"px\",m=b,r=0);return b},update:function(){l=this.end()}}};\n\n; browserify_shim__define__module__export__(typeof Stats != \"undefined\" ? Stats : window.Stats);\n\n}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n",";__browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\nvar dat=dat||{};dat.gui=dat.gui||{};dat.utils=dat.utils||{};dat.controllers=dat.controllers||{};dat.dom=dat.dom||{};dat.color=dat.color||{};dat.utils.css=function(){return{load:function(e,a){var a=a||document,c=a.createElement(\"link\");c.type=\"text/css\";c.rel=\"stylesheet\";c.href=e;a.getElementsByTagName(\"head\")[0].appendChild(c)},inject:function(e,a){var a=a||document,c=document.createElement(\"style\");c.type=\"text/css\";c.innerHTML=e;a.getElementsByTagName(\"head\")[0].appendChild(c)}}}();\ndat.utils.common=function(){var e=Array.prototype.forEach,a=Array.prototype.slice;return{BREAK:{},extend:function(c){this.each(a.call(arguments,1),function(a){for(var f in a)this.isUndefined(a[f])||(c[f]=a[f])},this);return c},defaults:function(c){this.each(a.call(arguments,1),function(a){for(var f in a)this.isUndefined(c[f])&&(c[f]=a[f])},this);return c},compose:function(){var c=a.call(arguments);return function(){for(var d=a.call(arguments),f=c.length-1;f>=0;f--)d=[c[f].apply(this,d)];return d[0]}},\neach:function(a,d,f){if(e&&a.forEach===e)a.forEach(d,f);else if(a.length===a.length+0)for(var b=0,n=a.length;b<n;b++){if(b in a&&d.call(f,a[b],b)===this.BREAK)break}else for(b in a)if(d.call(f,a[b],b)===this.BREAK)break},defer:function(a){setTimeout(a,0)},toArray:function(c){return c.toArray?c.toArray():a.call(c)},isUndefined:function(a){return a===void 0},isNull:function(a){return a===null},isNaN:function(a){return a!==a},isArray:Array.isArray||function(a){return a.constructor===Array},isObject:function(a){return a===\nObject(a)},isNumber:function(a){return a===a+0},isString:function(a){return a===a+\"\"},isBoolean:function(a){return a===false||a===true},isFunction:function(a){return Object.prototype.toString.call(a)===\"[object Function]\"}}}();\ndat.controllers.Controller=function(e){var a=function(a,d){this.initialValue=a[d];this.domElement=document.createElement(\"div\");this.object=a;this.property=d;this.__onFinishChange=this.__onChange=void 0};e.extend(a.prototype,{onChange:function(a){this.__onChange=a;return this},onFinishChange:function(a){this.__onFinishChange=a;return this},setValue:function(a){this.object[this.property]=a;this.__onChange&&this.__onChange.call(this,a);this.updateDisplay();return this},getValue:function(){return this.object[this.property]},\nupdateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}});return a}(dat.utils.common);\ndat.dom.dom=function(e){function a(b){if(b===\"0\"||e.isUndefined(b))return 0;b=b.match(d);return!e.isNull(b)?parseFloat(b[1]):0}var c={};e.each({HTMLEvents:[\"change\"],MouseEvents:[\"click\",\"mousemove\",\"mousedown\",\"mouseup\",\"mouseover\"],KeyboardEvents:[\"keydown\"]},function(b,a){e.each(b,function(b){c[b]=a})});var d=/(\\d+(\\.\\d+)?)px/,f={makeSelectable:function(b,a){if(!(b===void 0||b.style===void 0))b.onselectstart=a?function(){return false}:function(){},b.style.MozUserSelect=a?\"auto\":\"none\",b.style.KhtmlUserSelect=\na?\"auto\":\"none\",b.unselectable=a?\"on\":\"off\"},makeFullscreen:function(b,a,d){e.isUndefined(a)&&(a=true);e.isUndefined(d)&&(d=true);b.style.position=\"absolute\";if(a)b.style.left=0,b.style.right=0;if(d)b.style.top=0,b.style.bottom=0},fakeEvent:function(b,a,d,f){var d=d||{},m=c[a];if(!m)throw Error(\"Event type \"+a+\" not supported.\");var l=document.createEvent(m);switch(m){case \"MouseEvents\":l.initMouseEvent(a,d.bubbles||false,d.cancelable||true,window,d.clickCount||1,0,0,d.x||d.clientX||0,d.y||d.clientY||\n0,false,false,false,false,0,null);break;case \"KeyboardEvents\":m=l.initKeyboardEvent||l.initKeyEvent;e.defaults(d,{cancelable:true,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:void 0,charCode:void 0});m(a,d.bubbles||false,d.cancelable,window,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.keyCode,d.charCode);break;default:l.initEvent(a,d.bubbles||false,d.cancelable||true)}e.defaults(l,f);b.dispatchEvent(l)},bind:function(b,a,d,c){b.addEventListener?b.addEventListener(a,d,c||false):b.attachEvent&&\nb.attachEvent(\"on\"+a,d);return f},unbind:function(b,a,d,c){b.removeEventListener?b.removeEventListener(a,d,c||false):b.detachEvent&&b.detachEvent(\"on\"+a,d);return f},addClass:function(b,a){if(b.className===void 0)b.className=a;else if(b.className!==a){var d=b.className.split(/ +/);if(d.indexOf(a)==-1)d.push(a),b.className=d.join(\" \").replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")}return f},removeClass:function(b,a){if(a){if(b.className!==void 0)if(b.className===a)b.removeAttribute(\"class\");else{var d=b.className.split(/ +/),\nc=d.indexOf(a);if(c!=-1)d.splice(c,1),b.className=d.join(\" \")}}else b.className=void 0;return f},hasClass:function(a,d){return RegExp(\"(?:^|\\\\s+)\"+d+\"(?:\\\\s+|$)\").test(a.className)||false},getWidth:function(b){b=getComputedStyle(b);return a(b[\"border-left-width\"])+a(b[\"border-right-width\"])+a(b[\"padding-left\"])+a(b[\"padding-right\"])+a(b.width)},getHeight:function(b){b=getComputedStyle(b);return a(b[\"border-top-width\"])+a(b[\"border-bottom-width\"])+a(b[\"padding-top\"])+a(b[\"padding-bottom\"])+a(b.height)},\ngetOffset:function(a){var d={left:0,top:0};if(a.offsetParent){do d.left+=a.offsetLeft,d.top+=a.offsetTop;while(a=a.offsetParent)}return d},isActive:function(a){return a===document.activeElement&&(a.type||a.href)}};return f}(dat.utils.common);\ndat.controllers.OptionController=function(e,a,c){var d=function(f,b,e){d.superclass.call(this,f,b);var h=this;this.__select=document.createElement(\"select\");if(c.isArray(e)){var j={};c.each(e,function(a){j[a]=a});e=j}c.each(e,function(a,b){var d=document.createElement(\"option\");d.innerHTML=b;d.setAttribute(\"value\",a);h.__select.appendChild(d)});this.updateDisplay();a.bind(this.__select,\"change\",function(){h.setValue(this.options[this.selectedIndex].value)});this.domElement.appendChild(this.__select)};\nd.superclass=e;c.extend(d.prototype,e.prototype,{setValue:function(a){a=d.superclass.prototype.setValue.call(this,a);this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue());return a},updateDisplay:function(){this.__select.value=this.getValue();return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);\ndat.controllers.NumberController=function(e,a){var c=function(d,f,b){c.superclass.call(this,d,f);b=b||{};this.__min=b.min;this.__max=b.max;this.__step=b.step;d=this.__impliedStep=a.isUndefined(this.__step)?this.initialValue==0?1:Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__step;d=d.toString();this.__precision=d.indexOf(\".\")>-1?d.length-d.indexOf(\".\")-1:0};c.superclass=e;a.extend(c.prototype,e.prototype,{setValue:function(a){if(this.__min!==void 0&&a<this.__min)a=this.__min;\nelse if(this.__max!==void 0&&a>this.__max)a=this.__max;this.__step!==void 0&&a%this.__step!=0&&(a=Math.round(a/this.__step)*this.__step);return c.superclass.prototype.setValue.call(this,a)},min:function(a){this.__min=a;return this},max:function(a){this.__max=a;return this},step:function(a){this.__step=a;return this}});return c}(dat.controllers.Controller,dat.utils.common);\ndat.controllers.NumberControllerBox=function(e,a,c){var d=function(f,b,e){function h(){var a=parseFloat(l.__input.value);c.isNaN(a)||l.setValue(a)}function j(a){var b=o-a.clientY;l.setValue(l.getValue()+b*l.__impliedStep);o=a.clientY}function m(){a.unbind(window,\"mousemove\",j);a.unbind(window,\"mouseup\",m)}this.__truncationSuspended=false;d.superclass.call(this,f,b,e);var l=this,o;this.__input=document.createElement(\"input\");this.__input.setAttribute(\"type\",\"text\");a.bind(this.__input,\"change\",h);\na.bind(this.__input,\"blur\",function(){h();l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())});a.bind(this.__input,\"mousedown\",function(b){a.bind(window,\"mousemove\",j);a.bind(window,\"mouseup\",m);o=b.clientY});a.bind(this.__input,\"keydown\",function(a){if(a.keyCode===13)l.__truncationSuspended=true,this.blur(),l.__truncationSuspended=false});this.updateDisplay();this.domElement.appendChild(this.__input)};d.superclass=e;c.extend(d.prototype,e.prototype,{updateDisplay:function(){var a=this.__input,\nb;if(this.__truncationSuspended)b=this.getValue();else{b=this.getValue();var c=Math.pow(10,this.__precision);b=Math.round(b*c)/c}a.value=b;return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.NumberController,dat.dom.dom,dat.utils.common);\ndat.controllers.NumberControllerSlider=function(e,a,c,d,f){var b=function(d,c,f,e,l){function o(b){b.preventDefault();var d=a.getOffset(g.__background),c=a.getWidth(g.__background);g.setValue(g.__min+(g.__max-g.__min)*((b.clientX-d.left)/(d.left+c-d.left)));return false}function y(){a.unbind(window,\"mousemove\",o);a.unbind(window,\"mouseup\",y);g.__onFinishChange&&g.__onFinishChange.call(g,g.getValue())}b.superclass.call(this,d,c,{min:f,max:e,step:l});var g=this;this.__background=document.createElement(\"div\");\nthis.__foreground=document.createElement(\"div\");a.bind(this.__background,\"mousedown\",function(b){a.bind(window,\"mousemove\",o);a.bind(window,\"mouseup\",y);o(b)});a.addClass(this.__background,\"slider\");a.addClass(this.__foreground,\"slider-fg\");this.updateDisplay();this.__background.appendChild(this.__foreground);this.domElement.appendChild(this.__background)};b.superclass=e;b.useDefaultStyles=function(){c.inject(f)};d.extend(b.prototype,e.prototype,{updateDisplay:function(){this.__foreground.style.width=\n(this.getValue()-this.__min)/(this.__max-this.__min)*100+\"%\";return b.superclass.prototype.updateDisplay.call(this)}});return b}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common,\".slider {\\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\\n  height: 1em;\\n  border-radius: 1em;\\n  background-color: #eee;\\n  padding: 0 0.5em;\\n  overflow: hidden;\\n}\\n\\n.slider-fg {\\n  padding: 1px 0 2px 0;\\n  background-color: #aaa;\\n  height: 1em;\\n  margin-left: -0.5em;\\n  padding-right: 0.5em;\\n  border-radius: 1em 0 0 1em;\\n}\\n\\n.slider-fg:after {\\n  display: inline-block;\\n  border-radius: 1em;\\n  background-color: #fff;\\n  border:  1px solid #aaa;\\n  content: '';\\n  float: right;\\n  margin-right: -1em;\\n  margin-top: -1px;\\n  height: 0.9em;\\n  width: 0.9em;\\n}\");\ndat.controllers.FunctionController=function(e,a,c){var d=function(c,b,e){d.superclass.call(this,c,b);var h=this;this.__button=document.createElement(\"div\");this.__button.innerHTML=e===void 0?\"Fire\":e;a.bind(this.__button,\"click\",function(a){a.preventDefault();h.fire();return false});a.addClass(this.__button,\"button\");this.domElement.appendChild(this.__button)};d.superclass=e;c.extend(d.prototype,e.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this);this.__onFinishChange&&this.__onFinishChange.call(this,\nthis.getValue());this.getValue().call(this.object)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);\ndat.controllers.BooleanController=function(e,a,c){var d=function(c,b){d.superclass.call(this,c,b);var e=this;this.__prev=this.getValue();this.__checkbox=document.createElement(\"input\");this.__checkbox.setAttribute(\"type\",\"checkbox\");a.bind(this.__checkbox,\"change\",function(){e.setValue(!e.__prev)},false);this.domElement.appendChild(this.__checkbox);this.updateDisplay()};d.superclass=e;c.extend(d.prototype,e.prototype,{setValue:function(a){a=d.superclass.prototype.setValue.call(this,a);this.__onFinishChange&&\nthis.__onFinishChange.call(this,this.getValue());this.__prev=this.getValue();return a},updateDisplay:function(){this.getValue()===true?(this.__checkbox.setAttribute(\"checked\",\"checked\"),this.__checkbox.checked=true):this.__checkbox.checked=false;return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);\ndat.color.toString=function(e){return function(a){if(a.a==1||e.isUndefined(a.a)){for(a=a.hex.toString(16);a.length<6;)a=\"0\"+a;return\"#\"+a}else return\"rgba(\"+Math.round(a.r)+\",\"+Math.round(a.g)+\",\"+Math.round(a.b)+\",\"+a.a+\")\"}}(dat.utils.common);\ndat.color.interpret=function(e,a){var c,d,f=[{litmus:a.isString,conversions:{THREE_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return a===null?false:{space:\"HEX\",hex:parseInt(\"0x\"+a[1].toString()+a[1].toString()+a[2].toString()+a[2].toString()+a[3].toString()+a[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9]{6})$/i);return a===null?false:{space:\"HEX\",hex:parseInt(\"0x\"+a[1].toString())}},write:e},CSS_RGB:{read:function(a){a=a.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\nreturn a===null?false:{space:\"RGB\",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3])}},write:e},CSS_RGBA:{read:function(a){a=a.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\,\\s*(.+)\\s*\\)/);return a===null?false:{space:\"RGB\",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3]),a:parseFloat(a[4])}},write:e}}},{litmus:a.isNumber,conversions:{HEX:{read:function(a){return{space:\"HEX\",hex:a,conversionName:\"HEX\"}},write:function(a){return a.hex}}}},{litmus:a.isArray,conversions:{RGB_ARRAY:{read:function(a){return a.length!=\n3?false:{space:\"RGB\",r:a[0],g:a[1],b:a[2]}},write:function(a){return[a.r,a.g,a.b]}},RGBA_ARRAY:{read:function(a){return a.length!=4?false:{space:\"RGB\",r:a[0],g:a[1],b:a[2],a:a[3]}},write:function(a){return[a.r,a.g,a.b,a.a]}}}},{litmus:a.isObject,conversions:{RGBA_OBJ:{read:function(b){return a.isNumber(b.r)&&a.isNumber(b.g)&&a.isNumber(b.b)&&a.isNumber(b.a)?{space:\"RGB\",r:b.r,g:b.g,b:b.b,a:b.a}:false},write:function(a){return{r:a.r,g:a.g,b:a.b,a:a.a}}},RGB_OBJ:{read:function(b){return a.isNumber(b.r)&&\na.isNumber(b.g)&&a.isNumber(b.b)?{space:\"RGB\",r:b.r,g:b.g,b:b.b}:false},write:function(a){return{r:a.r,g:a.g,b:a.b}}},HSVA_OBJ:{read:function(b){return a.isNumber(b.h)&&a.isNumber(b.s)&&a.isNumber(b.v)&&a.isNumber(b.a)?{space:\"HSV\",h:b.h,s:b.s,v:b.v,a:b.a}:false},write:function(a){return{h:a.h,s:a.s,v:a.v,a:a.a}}},HSV_OBJ:{read:function(b){return a.isNumber(b.h)&&a.isNumber(b.s)&&a.isNumber(b.v)?{space:\"HSV\",h:b.h,s:b.s,v:b.v}:false},write:function(a){return{h:a.h,s:a.s,v:a.v}}}}}];return function(){d=\nfalse;var b=arguments.length>1?a.toArray(arguments):arguments[0];a.each(f,function(e){if(e.litmus(b))return a.each(e.conversions,function(e,f){c=e.read(b);if(d===false&&c!==false)return d=c,c.conversionName=f,c.conversion=e,a.BREAK}),a.BREAK});return d}}(dat.color.toString,dat.utils.common);\ndat.GUI=dat.gui.GUI=function(e,a,c,d,f,b,n,h,j,m,l,o,y,g,i){function q(a,b,r,c){if(b[r]===void 0)throw Error(\"Object \"+b+' has no property \"'+r+'\"');c.color?b=new l(b,r):(b=[b,r].concat(c.factoryArgs),b=d.apply(a,b));if(c.before instanceof f)c.before=c.before.__li;t(a,b);g.addClass(b.domElement,\"c\");r=document.createElement(\"span\");g.addClass(r,\"property-name\");r.innerHTML=b.property;var e=document.createElement(\"div\");e.appendChild(r);e.appendChild(b.domElement);c=s(a,e,c.before);g.addClass(c,k.CLASS_CONTROLLER_ROW);\ng.addClass(c,typeof b.getValue());p(a,c,b);a.__controllers.push(b);return b}function s(a,b,d){var c=document.createElement(\"li\");b&&c.appendChild(b);d?a.__ul.insertBefore(c,params.before):a.__ul.appendChild(c);a.onResize();return c}function p(a,d,c){c.__li=d;c.__gui=a;i.extend(c,{options:function(b){if(arguments.length>1)return c.remove(),q(a,c.object,c.property,{before:c.__li.nextElementSibling,factoryArgs:[i.toArray(arguments)]});if(i.isArray(b)||i.isObject(b))return c.remove(),q(a,c.object,c.property,\n{before:c.__li.nextElementSibling,factoryArgs:[b]})},name:function(a){c.__li.firstElementChild.firstElementChild.innerHTML=a;return c},listen:function(){c.__gui.listen(c);return c},remove:function(){c.__gui.remove(c);return c}});if(c instanceof j){var e=new h(c.object,c.property,{min:c.__min,max:c.__max,step:c.__step});i.each([\"updateDisplay\",\"onChange\",\"onFinishChange\"],function(a){var b=c[a],H=e[a];c[a]=e[a]=function(){var a=Array.prototype.slice.call(arguments);b.apply(c,a);return H.apply(e,a)}});\ng.addClass(d,\"has-slider\");c.domElement.insertBefore(e.domElement,c.domElement.firstElementChild)}else if(c instanceof h){var f=function(b){return i.isNumber(c.__min)&&i.isNumber(c.__max)?(c.remove(),q(a,c.object,c.property,{before:c.__li.nextElementSibling,factoryArgs:[c.__min,c.__max,c.__step]})):b};c.min=i.compose(f,c.min);c.max=i.compose(f,c.max)}else if(c instanceof b)g.bind(d,\"click\",function(){g.fakeEvent(c.__checkbox,\"click\")}),g.bind(c.__checkbox,\"click\",function(a){a.stopPropagation()});\nelse if(c instanceof n)g.bind(d,\"click\",function(){g.fakeEvent(c.__button,\"click\")}),g.bind(d,\"mouseover\",function(){g.addClass(c.__button,\"hover\")}),g.bind(d,\"mouseout\",function(){g.removeClass(c.__button,\"hover\")});else if(c instanceof l)g.addClass(d,\"color\"),c.updateDisplay=i.compose(function(a){d.style.borderLeftColor=c.__color.toString();return a},c.updateDisplay),c.updateDisplay();c.setValue=i.compose(function(b){a.getRoot().__preset_select&&c.isModified()&&B(a.getRoot(),true);return b},c.setValue)}\nfunction t(a,b){var c=a.getRoot(),d=c.__rememberedObjects.indexOf(b.object);if(d!=-1){var e=c.__rememberedObjectIndecesToControllers[d];e===void 0&&(e={},c.__rememberedObjectIndecesToControllers[d]=e);e[b.property]=b;if(c.load&&c.load.remembered){c=c.load.remembered;if(c[a.preset])c=c[a.preset];else if(c[w])c=c[w];else return;if(c[d]&&c[d][b.property]!==void 0)d=c[d][b.property],b.initialValue=d,b.setValue(d)}}}function I(a){var b=a.__save_row=document.createElement(\"li\");g.addClass(a.domElement,\n\"has-save\");a.__ul.insertBefore(b,a.__ul.firstChild);g.addClass(b,\"save-row\");var c=document.createElement(\"span\");c.innerHTML=\"&nbsp;\";g.addClass(c,\"button gears\");var d=document.createElement(\"span\");d.innerHTML=\"Save\";g.addClass(d,\"button\");g.addClass(d,\"save\");var e=document.createElement(\"span\");e.innerHTML=\"New\";g.addClass(e,\"button\");g.addClass(e,\"save-as\");var f=document.createElement(\"span\");f.innerHTML=\"Revert\";g.addClass(f,\"button\");g.addClass(f,\"revert\");var m=a.__preset_select=document.createElement(\"select\");\na.load&&a.load.remembered?i.each(a.load.remembered,function(b,c){C(a,c,c==a.preset)}):C(a,w,false);g.bind(m,\"change\",function(){for(var b=0;b<a.__preset_select.length;b++)a.__preset_select[b].innerHTML=a.__preset_select[b].value;a.preset=this.value});b.appendChild(m);b.appendChild(c);b.appendChild(d);b.appendChild(e);b.appendChild(f);if(u){var b=document.getElementById(\"dg-save-locally\"),l=document.getElementById(\"dg-local-explain\");b.style.display=\"block\";b=document.getElementById(\"dg-local-storage\");\nlocalStorage.getItem(document.location.href+\".isLocal\")===\"true\"&&b.setAttribute(\"checked\",\"checked\");var o=function(){l.style.display=a.useLocalStorage?\"block\":\"none\"};o();g.bind(b,\"change\",function(){a.useLocalStorage=!a.useLocalStorage;o()})}var h=document.getElementById(\"dg-new-constructor\");g.bind(h,\"keydown\",function(a){a.metaKey&&(a.which===67||a.keyCode==67)&&x.hide()});g.bind(c,\"click\",function(){h.innerHTML=JSON.stringify(a.getSaveObject(),void 0,2);x.show();h.focus();h.select()});g.bind(d,\n\"click\",function(){a.save()});g.bind(e,\"click\",function(){var b=prompt(\"Enter a new preset name.\");b&&a.saveAs(b)});g.bind(f,\"click\",function(){a.revert()})}function J(a){function b(f){f.preventDefault();e=f.clientX;g.addClass(a.__closeButton,k.CLASS_DRAG);g.bind(window,\"mousemove\",c);g.bind(window,\"mouseup\",d);return false}function c(b){b.preventDefault();a.width+=e-b.clientX;a.onResize();e=b.clientX;return false}function d(){g.removeClass(a.__closeButton,k.CLASS_DRAG);g.unbind(window,\"mousemove\",\nc);g.unbind(window,\"mouseup\",d)}a.__resize_handle=document.createElement(\"div\");i.extend(a.__resize_handle.style,{width:\"6px\",marginLeft:\"-3px\",height:\"200px\",cursor:\"ew-resize\",position:\"absolute\"});var e;g.bind(a.__resize_handle,\"mousedown\",b);g.bind(a.__closeButton,\"mousedown\",b);a.domElement.insertBefore(a.__resize_handle,a.domElement.firstElementChild)}function D(a,b){a.domElement.style.width=b+\"px\";if(a.__save_row&&a.autoPlace)a.__save_row.style.width=b+\"px\";if(a.__closeButton)a.__closeButton.style.width=\nb+\"px\"}function z(a,b){var c={};i.each(a.__rememberedObjects,function(d,e){var f={};i.each(a.__rememberedObjectIndecesToControllers[e],function(a,c){f[c]=b?a.initialValue:a.getValue()});c[e]=f});return c}function C(a,b,c){var d=document.createElement(\"option\");d.innerHTML=b;d.value=b;a.__preset_select.appendChild(d);if(c)a.__preset_select.selectedIndex=a.__preset_select.length-1}function B(a,b){var c=a.__preset_select[a.__preset_select.selectedIndex];c.innerHTML=b?c.value+\"*\":c.value}function E(a){a.length!=\n0&&o(function(){E(a)});i.each(a,function(a){a.updateDisplay()})}e.inject(c);var w=\"Default\",u;try{u=\"localStorage\"in window&&window.localStorage!==null}catch(K){u=false}var x,F=true,v,A=false,G=[],k=function(a){function b(){localStorage.setItem(document.location.href+\".gui\",JSON.stringify(d.getSaveObject()))}function c(){var a=d.getRoot();a.width+=1;i.defer(function(){a.width-=1})}var d=this;this.domElement=document.createElement(\"div\");this.__ul=document.createElement(\"ul\");this.domElement.appendChild(this.__ul);\ng.addClass(this.domElement,\"dg\");this.__folders={};this.__controllers=[];this.__rememberedObjects=[];this.__rememberedObjectIndecesToControllers=[];this.__listening=[];a=a||{};a=i.defaults(a,{autoPlace:true,width:k.DEFAULT_WIDTH});a=i.defaults(a,{resizable:a.autoPlace,hideable:a.autoPlace});if(i.isUndefined(a.load))a.load={preset:w};else if(a.preset)a.load.preset=a.preset;i.isUndefined(a.parent)&&a.hideable&&G.push(this);a.resizable=i.isUndefined(a.parent)&&a.resizable;if(a.autoPlace&&i.isUndefined(a.scrollable))a.scrollable=\ntrue;var e=u&&localStorage.getItem(document.location.href+\".isLocal\")===\"true\";Object.defineProperties(this,{parent:{get:function(){return a.parent}},scrollable:{get:function(){return a.scrollable}},autoPlace:{get:function(){return a.autoPlace}},preset:{get:function(){return d.parent?d.getRoot().preset:a.load.preset},set:function(b){d.parent?d.getRoot().preset=b:a.load.preset=b;for(b=0;b<this.__preset_select.length;b++)if(this.__preset_select[b].value==this.preset)this.__preset_select.selectedIndex=\nb;d.revert()}},width:{get:function(){return a.width},set:function(b){a.width=b;D(d,b)}},name:{get:function(){return a.name},set:function(b){a.name=b;if(m)m.innerHTML=a.name}},closed:{get:function(){return a.closed},set:function(b){a.closed=b;a.closed?g.addClass(d.__ul,k.CLASS_CLOSED):g.removeClass(d.__ul,k.CLASS_CLOSED);this.onResize();if(d.__closeButton)d.__closeButton.innerHTML=b?k.TEXT_OPEN:k.TEXT_CLOSED}},load:{get:function(){return a.load}},useLocalStorage:{get:function(){return e},set:function(a){u&&\n((e=a)?g.bind(window,\"unload\",b):g.unbind(window,\"unload\",b),localStorage.setItem(document.location.href+\".isLocal\",a))}}});if(i.isUndefined(a.parent)){a.closed=false;g.addClass(this.domElement,k.CLASS_MAIN);g.makeSelectable(this.domElement,false);if(u&&e){d.useLocalStorage=true;var f=localStorage.getItem(document.location.href+\".gui\");if(f)a.load=JSON.parse(f)}this.__closeButton=document.createElement(\"div\");this.__closeButton.innerHTML=k.TEXT_CLOSED;g.addClass(this.__closeButton,k.CLASS_CLOSE_BUTTON);\nthis.domElement.appendChild(this.__closeButton);g.bind(this.__closeButton,\"click\",function(){d.closed=!d.closed})}else{if(a.closed===void 0)a.closed=true;var m=document.createTextNode(a.name);g.addClass(m,\"controller-name\");f=s(d,m);g.addClass(this.__ul,k.CLASS_CLOSED);g.addClass(f,\"title\");g.bind(f,\"click\",function(a){a.preventDefault();d.closed=!d.closed;return false});if(!a.closed)this.closed=false}a.autoPlace&&(i.isUndefined(a.parent)&&(F&&(v=document.createElement(\"div\"),g.addClass(v,\"dg\"),g.addClass(v,\nk.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(v),F=false),v.appendChild(this.domElement),g.addClass(this.domElement,k.CLASS_AUTO_PLACE)),this.parent||D(d,a.width));g.bind(window,\"resize\",function(){d.onResize()});g.bind(this.__ul,\"webkitTransitionEnd\",function(){d.onResize()});g.bind(this.__ul,\"transitionend\",function(){d.onResize()});g.bind(this.__ul,\"oTransitionEnd\",function(){d.onResize()});this.onResize();a.resizable&&J(this);d.getRoot();a.parent||c()};k.toggleHide=function(){A=!A;i.each(G,\nfunction(a){a.domElement.style.zIndex=A?-999:999;a.domElement.style.opacity=A?0:1})};k.CLASS_AUTO_PLACE=\"a\";k.CLASS_AUTO_PLACE_CONTAINER=\"ac\";k.CLASS_MAIN=\"main\";k.CLASS_CONTROLLER_ROW=\"cr\";k.CLASS_TOO_TALL=\"taller-than-window\";k.CLASS_CLOSED=\"closed\";k.CLASS_CLOSE_BUTTON=\"close-button\";k.CLASS_DRAG=\"drag\";k.DEFAULT_WIDTH=245;k.TEXT_CLOSED=\"Close Controls\";k.TEXT_OPEN=\"Open Controls\";g.bind(window,\"keydown\",function(a){document.activeElement.type!==\"text\"&&(a.which===72||a.keyCode==72)&&k.toggleHide()},\nfalse);i.extend(k.prototype,{add:function(a,b){return q(this,a,b,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(a,b){return q(this,a,b,{color:true})},remove:function(a){this.__ul.removeChild(a.__li);this.__controllers.slice(this.__controllers.indexOf(a),1);var b=this;i.defer(function(){b.onResize()})},destroy:function(){this.autoPlace&&v.removeChild(this.domElement)},addFolder:function(a){if(this.__folders[a]!==void 0)throw Error('You already have a folder in this GUI by the name \"'+\na+'\"');var b={name:a,parent:this};b.autoPlace=this.autoPlace;if(this.load&&this.load.folders&&this.load.folders[a])b.closed=this.load.folders[a].closed,b.load=this.load.folders[a];b=new k(b);this.__folders[a]=b;a=s(this,b.domElement);g.addClass(a,\"folder\");return b},open:function(){this.closed=false},close:function(){this.closed=true},onResize:function(){var a=this.getRoot();if(a.scrollable){var b=g.getOffset(a.__ul).top,c=0;i.each(a.__ul.childNodes,function(b){a.autoPlace&&b===a.__save_row||(c+=\ng.getHeight(b))});window.innerHeight-b-20<c?(g.addClass(a.domElement,k.CLASS_TOO_TALL),a.__ul.style.height=window.innerHeight-b-20+\"px\"):(g.removeClass(a.domElement,k.CLASS_TOO_TALL),a.__ul.style.height=\"auto\")}a.__resize_handle&&i.defer(function(){a.__resize_handle.style.height=a.__ul.offsetHeight+\"px\"});if(a.__closeButton)a.__closeButton.style.width=a.width+\"px\"},remember:function(){if(i.isUndefined(x))x=new y,x.domElement.innerHTML=a;if(this.parent)throw Error(\"You can only call remember on a top level GUI.\");\nvar b=this;i.each(Array.prototype.slice.call(arguments),function(a){b.__rememberedObjects.length==0&&I(b);b.__rememberedObjects.indexOf(a)==-1&&b.__rememberedObjects.push(a)});this.autoPlace&&D(this,this.width)},getRoot:function(){for(var a=this;a.parent;)a=a.parent;return a},getSaveObject:function(){var a=this.load;a.closed=this.closed;if(this.__rememberedObjects.length>0){a.preset=this.preset;if(!a.remembered)a.remembered={};a.remembered[this.preset]=z(this)}a.folders={};i.each(this.__folders,function(b,\nc){a.folders[c]=b.getSaveObject()});return a},save:function(){if(!this.load.remembered)this.load.remembered={};this.load.remembered[this.preset]=z(this);B(this,false)},saveAs:function(a){if(!this.load.remembered)this.load.remembered={},this.load.remembered[w]=z(this,true);this.load.remembered[a]=z(this);this.preset=a;C(this,a,true)},revert:function(a){i.each(this.__controllers,function(b){this.getRoot().load.remembered?t(a||this.getRoot(),b):b.setValue(b.initialValue)},this);i.each(this.__folders,\nfunction(a){a.revert(a)});a||B(this.getRoot(),false)},listen:function(a){var b=this.__listening.length==0;this.__listening.push(a);b&&E(this.__listening)}});return k}(dat.utils.css,'<div id=\"dg-save\" class=\"dg dialogue\">\\n\\n  Here\\'s the new load parameter for your <code>GUI</code>\\'s constructor:\\n\\n  <textarea id=\"dg-new-constructor\"></textarea>\\n\\n  <div id=\"dg-save-locally\">\\n\\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>\\'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n      \\n    </div>\\n    \\n  </div>\\n\\n</div>',\n\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\",\ndat.controllers.factory=function(e,a,c,d,f,b,n){return function(h,j,m,l){var o=h[j];if(n.isArray(m)||n.isObject(m))return new e(h,j,m);if(n.isNumber(o))return n.isNumber(m)&&n.isNumber(l)?new c(h,j,m,l):new a(h,j,{min:m,max:l});if(n.isString(o))return new d(h,j);if(n.isFunction(o))return new f(h,j,\"\");if(n.isBoolean(o))return new b(h,j)}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(e,a,c){var d=\nfunction(c,b){function e(){h.setValue(h.__input.value)}d.superclass.call(this,c,b);var h=this;this.__input=document.createElement(\"input\");this.__input.setAttribute(\"type\",\"text\");a.bind(this.__input,\"keyup\",e);a.bind(this.__input,\"change\",e);a.bind(this.__input,\"blur\",function(){h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())});a.bind(this.__input,\"keydown\",function(a){a.keyCode===13&&this.blur()});this.updateDisplay();this.domElement.appendChild(this.__input)};d.superclass=e;c.extend(d.prototype,\ne.prototype,{updateDisplay:function(){if(!a.isActive(this.__input))this.__input.value=this.getValue();return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,\ndat.controllers.ColorController=function(e,a,c,d,f){function b(a,b,c,d){a.style.background=\"\";f.each(j,function(e){a.style.cssText+=\"background: \"+e+\"linear-gradient(\"+b+\", \"+c+\" 0%, \"+d+\" 100%); \"})}function n(a){a.style.background=\"\";a.style.cssText+=\"background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);\";a.style.cssText+=\"background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\";\na.style.cssText+=\"background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\";a.style.cssText+=\"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\";a.style.cssText+=\"background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\"}var h=function(e,l){function o(b){q(b);a.bind(window,\"mousemove\",q);a.bind(window,\n\"mouseup\",j)}function j(){a.unbind(window,\"mousemove\",q);a.unbind(window,\"mouseup\",j)}function g(){var a=d(this.value);a!==false?(p.__color.__state=a,p.setValue(p.__color.toOriginal())):this.value=p.__color.toString()}function i(){a.unbind(window,\"mousemove\",s);a.unbind(window,\"mouseup\",i)}function q(b){b.preventDefault();var c=a.getWidth(p.__saturation_field),d=a.getOffset(p.__saturation_field),e=(b.clientX-d.left+document.body.scrollLeft)/c,b=1-(b.clientY-d.top+document.body.scrollTop)/c;b>1?b=\n1:b<0&&(b=0);e>1?e=1:e<0&&(e=0);p.__color.v=b;p.__color.s=e;p.setValue(p.__color.toOriginal());return false}function s(b){b.preventDefault();var c=a.getHeight(p.__hue_field),d=a.getOffset(p.__hue_field),b=1-(b.clientY-d.top+document.body.scrollTop)/c;b>1?b=1:b<0&&(b=0);p.__color.h=b*360;p.setValue(p.__color.toOriginal());return false}h.superclass.call(this,e,l);this.__color=new c(this.getValue());this.__temp=new c(0);var p=this;this.domElement=document.createElement(\"div\");a.makeSelectable(this.domElement,\nfalse);this.__selector=document.createElement(\"div\");this.__selector.className=\"selector\";this.__saturation_field=document.createElement(\"div\");this.__saturation_field.className=\"saturation-field\";this.__field_knob=document.createElement(\"div\");this.__field_knob.className=\"field-knob\";this.__field_knob_border=\"2px solid \";this.__hue_knob=document.createElement(\"div\");this.__hue_knob.className=\"hue-knob\";this.__hue_field=document.createElement(\"div\");this.__hue_field.className=\"hue-field\";this.__input=\ndocument.createElement(\"input\");this.__input.type=\"text\";this.__input_textShadow=\"0 1px 1px \";a.bind(this.__input,\"keydown\",function(a){a.keyCode===13&&g.call(this)});a.bind(this.__input,\"blur\",g);a.bind(this.__selector,\"mousedown\",function(){a.addClass(this,\"drag\").bind(window,\"mouseup\",function(){a.removeClass(p.__selector,\"drag\")})});var t=document.createElement(\"div\");f.extend(this.__selector.style,{width:\"122px\",height:\"102px\",padding:\"3px\",backgroundColor:\"#222\",boxShadow:\"0px 1px 3px rgba(0,0,0,0.3)\"});\nf.extend(this.__field_knob.style,{position:\"absolute\",width:\"12px\",height:\"12px\",border:this.__field_knob_border+(this.__color.v<0.5?\"#fff\":\"#000\"),boxShadow:\"0px 1px 3px rgba(0,0,0,0.5)\",borderRadius:\"12px\",zIndex:1});f.extend(this.__hue_knob.style,{position:\"absolute\",width:\"15px\",height:\"2px\",borderRight:\"4px solid #fff\",zIndex:1});f.extend(this.__saturation_field.style,{width:\"100px\",height:\"100px\",border:\"1px solid #555\",marginRight:\"3px\",display:\"inline-block\",cursor:\"pointer\"});f.extend(t.style,\n{width:\"100%\",height:\"100%\",background:\"none\"});b(t,\"top\",\"rgba(0,0,0,0)\",\"#000\");f.extend(this.__hue_field.style,{width:\"15px\",height:\"100px\",display:\"inline-block\",border:\"1px solid #555\",cursor:\"ns-resize\"});n(this.__hue_field);f.extend(this.__input.style,{outline:\"none\",textAlign:\"center\",color:\"#fff\",border:0,fontWeight:\"bold\",textShadow:this.__input_textShadow+\"rgba(0,0,0,0.7)\"});a.bind(this.__saturation_field,\"mousedown\",o);a.bind(this.__field_knob,\"mousedown\",o);a.bind(this.__hue_field,\"mousedown\",\nfunction(b){s(b);a.bind(window,\"mousemove\",s);a.bind(window,\"mouseup\",i)});this.__saturation_field.appendChild(t);this.__selector.appendChild(this.__field_knob);this.__selector.appendChild(this.__saturation_field);this.__selector.appendChild(this.__hue_field);this.__hue_field.appendChild(this.__hue_knob);this.domElement.appendChild(this.__input);this.domElement.appendChild(this.__selector);this.updateDisplay()};h.superclass=e;f.extend(h.prototype,e.prototype,{updateDisplay:function(){var a=d(this.getValue());\nif(a!==false){var e=false;f.each(c.COMPONENTS,function(b){if(!f.isUndefined(a[b])&&!f.isUndefined(this.__color.__state[b])&&a[b]!==this.__color.__state[b])return e=true,{}},this);e&&f.extend(this.__color.__state,a)}f.extend(this.__temp.__state,this.__color.__state);this.__temp.a=1;var h=this.__color.v<0.5||this.__color.s>0.5?255:0,j=255-h;f.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+\"px\",marginTop:100*(1-this.__color.v)-7+\"px\",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+\n\"rgb(\"+h+\",\"+h+\",\"+h+\")\"});this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+\"px\";this.__temp.s=1;this.__temp.v=1;b(this.__saturation_field,\"left\",\"#fff\",this.__temp.toString());f.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:\"rgb(\"+h+\",\"+h+\",\"+h+\")\",textShadow:this.__input_textShadow+\"rgba(\"+j+\",\"+j+\",\"+j+\",.7)\"})}});var j=[\"-moz-\",\"-o-\",\"-webkit-\",\"-ms-\",\"\"];return h}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(e,a,c,d){function f(a,\nb,c){Object.defineProperty(a,b,{get:function(){if(this.__state.space===\"RGB\")return this.__state[b];n(this,b,c);return this.__state[b]},set:function(a){if(this.__state.space!==\"RGB\")n(this,b,c),this.__state.space=\"RGB\";this.__state[b]=a}})}function b(a,b){Object.defineProperty(a,b,{get:function(){if(this.__state.space===\"HSV\")return this.__state[b];h(this);return this.__state[b]},set:function(a){if(this.__state.space!==\"HSV\")h(this),this.__state.space=\"HSV\";this.__state[b]=a}})}function n(b,c,e){if(b.__state.space===\n\"HEX\")b.__state[c]=a.component_from_hex(b.__state.hex,e);else if(b.__state.space===\"HSV\")d.extend(b.__state,a.hsv_to_rgb(b.__state.h,b.__state.s,b.__state.v));else throw\"Corrupted color state\";}function h(b){var c=a.rgb_to_hsv(b.r,b.g,b.b);d.extend(b.__state,{s:c.s,v:c.v});if(d.isNaN(c.h)){if(d.isUndefined(b.__state.h))b.__state.h=0}else b.__state.h=c.h}var j=function(){this.__state=e.apply(this,arguments);if(this.__state===false)throw\"Failed to interpret color arguments\";this.__state.a=this.__state.a||\n1};j.COMPONENTS=\"r,g,b,h,s,v,hex,a\".split(\",\");d.extend(j.prototype,{toString:function(){return c(this)},toOriginal:function(){return this.__state.conversion.write(this)}});f(j.prototype,\"r\",2);f(j.prototype,\"g\",1);f(j.prototype,\"b\",0);b(j.prototype,\"h\");b(j.prototype,\"s\");b(j.prototype,\"v\");Object.defineProperty(j.prototype,\"a\",{get:function(){return this.__state.a},set:function(a){this.__state.a=a}});Object.defineProperty(j.prototype,\"hex\",{get:function(){if(!this.__state.space!==\"HEX\")this.__state.hex=\na.rgb_to_hex(this.r,this.g,this.b);return this.__state.hex},set:function(a){this.__state.space=\"HEX\";this.__state.hex=a}});return j}(dat.color.interpret,dat.color.math=function(){var e;return{hsv_to_rgb:function(a,c,d){var e=a/60-Math.floor(a/60),b=d*(1-c),n=d*(1-e*c),c=d*(1-(1-e)*c),a=[[d,c,b],[n,d,b],[b,d,c],[b,n,d],[c,b,d],[d,b,n]][Math.floor(a/60)%6];return{r:a[0]*255,g:a[1]*255,b:a[2]*255}},rgb_to_hsv:function(a,c,d){var e=Math.min(a,c,d),b=Math.max(a,c,d),e=b-e;if(b==0)return{h:NaN,s:0,v:0};\na=a==b?(c-d)/e:c==b?2+(d-a)/e:4+(a-c)/e;a/=6;a<0&&(a+=1);return{h:a*360,s:e/b,v:b/255}},rgb_to_hex:function(a,c,d){a=this.hex_with_component(0,2,a);a=this.hex_with_component(a,1,c);return a=this.hex_with_component(a,0,d)},component_from_hex:function(a,c){return a>>c*8&255},hex_with_component:function(a,c,d){return d<<(e=c*8)|a&~(255<<e)}}}(),dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||\nwindow.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1E3/60)}}(),dat.dom.CenteredDiv=function(e,a){var c=function(){this.backgroundElement=document.createElement(\"div\");a.extend(this.backgroundElement.style,{backgroundColor:\"rgba(0,0,0,0.8)\",top:0,left:0,display:\"none\",zIndex:\"1000\",opacity:0,WebkitTransition:\"opacity 0.2s linear\"});e.makeFullscreen(this.backgroundElement);this.backgroundElement.style.position=\"fixed\";this.domElement=\ndocument.createElement(\"div\");a.extend(this.domElement.style,{position:\"fixed\",display:\"none\",zIndex:\"1001\",opacity:0,WebkitTransition:\"-webkit-transform 0.2s ease-out, opacity 0.2s linear\"});document.body.appendChild(this.backgroundElement);document.body.appendChild(this.domElement);var c=this;e.bind(this.backgroundElement,\"click\",function(){c.hide()})};c.prototype.show=function(){var c=this;this.backgroundElement.style.display=\"block\";this.domElement.style.display=\"block\";this.domElement.style.opacity=\n0;this.domElement.style.webkitTransform=\"scale(1.1)\";this.layout();a.defer(function(){c.backgroundElement.style.opacity=1;c.domElement.style.opacity=1;c.domElement.style.webkitTransform=\"scale(1)\"})};c.prototype.hide=function(){var a=this,c=function(){a.domElement.style.display=\"none\";a.backgroundElement.style.display=\"none\";e.unbind(a.domElement,\"webkitTransitionEnd\",c);e.unbind(a.domElement,\"transitionend\",c);e.unbind(a.domElement,\"oTransitionEnd\",c)};e.bind(this.domElement,\"webkitTransitionEnd\",\nc);e.bind(this.domElement,\"transitionend\",c);e.bind(this.domElement,\"oTransitionEnd\",c);this.backgroundElement.style.opacity=0;this.domElement.style.opacity=0;this.domElement.style.webkitTransform=\"scale(1.1)\"};c.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-e.getWidth(this.domElement)/2+\"px\";this.domElement.style.top=window.innerHeight/2-e.getHeight(this.domElement)/2+\"px\"};return c}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common);\n; browserify_shim__define__module__export__(typeof dat != \"undefined\" ? dat : window.dat);\n\n}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n","/**\n * @license\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modern -o ./dist/lodash.js`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre ES5 environments */\n  var undefined;\n\n  /** Used to pool arrays and objects used internally */\n  var arrayPool = [],\n      objectPool = [];\n\n  /** Used to generate unique IDs */\n  var idCounter = 0;\n\n  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */\n  var keyPrefix = +new Date + '';\n\n  /** Used as the size when optimizations are enabled for large arrays */\n  var largeArraySize = 75;\n\n  /** Used as the max size of the `arrayPool` and `objectPool` */\n  var maxPoolSize = 40;\n\n  /** Used to detect and test whitespace */\n  var whitespace = (\n    // whitespace\n    ' \\t\\x0B\\f\\xA0\\ufeff' +\n\n    // line terminators\n    '\\n\\r\\u2028\\u2029' +\n\n    // unicode category \"Zs\" space separators\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to match empty string literals in compiled template source */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /**\n   * Used to match ES6 template delimiters\n   * http://people.mozilla.org/~jorendorff/es6-draft.html#sec-literals-string-literals\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match regexp flags from their coerced string values */\n  var reFlags = /\\w*$/;\n\n  /** Used to detected named functions */\n  var reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n  /** Used to match \"interpolate\" template delimiters */\n  var reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match leading whitespace and zeros to be removed */\n  var reLeadingSpacesAndZeros = RegExp('^[' + whitespace + ']*0+(?=.$)');\n\n  /** Used to ensure capturing order of template delimiters */\n  var reNoMatch = /($^)/;\n\n  /** Used to detect functions containing a `this` reference */\n  var reThis = /\\bthis\\b/;\n\n  /** Used to match unescaped characters in compiled string literals */\n  var reUnescapedString = /['\\n\\r\\t\\u2028\\u2029\\\\]/g;\n\n  /** Used to assign default `context` object properties */\n  var contextProps = [\n    'Array', 'Boolean', 'Date', 'Function', 'Math', 'Number', 'Object',\n    'RegExp', 'String', '_', 'attachEvent', 'clearTimeout', 'isFinite', 'isNaN',\n    'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify */\n  var templateCounter = 0;\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Used to identify object classifications that `_.clone` supports */\n  var cloneableClasses = {};\n  cloneableClasses[funcClass] = false;\n  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =\n  cloneableClasses[boolClass] = cloneableClasses[dateClass] =\n  cloneableClasses[numberClass] = cloneableClasses[objectClass] =\n  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;\n\n  /** Used as an internal `_.debounce` options object */\n  var debounceOptions = {\n    'leading': false,\n    'maxWait': 0,\n    'trailing': false\n  };\n\n  /** Used as the property descriptor for `__bindData__` */\n  var descriptor = {\n    'configurable': false,\n    'enumerable': false,\n    'value': null,\n    'writable': false\n  };\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Used as a reference to the global object */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports` */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */\n  var freeGlobal = objectTypes[typeof global] && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches\n   * or `fromIndex` constraints.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} [fromIndex=0] The index to search from.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    var index = (fromIndex || 0) - 1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * An implementation of `_.contains` for cache objects that mimics the return\n   * signature of `_.indexOf` by returning `0` if the value is found, else `-1`.\n   *\n   * @private\n   * @param {Object} cache The cache object to inspect.\n   * @param {*} value The value to search for.\n   * @returns {number} Returns `0` if `value` is found, else `-1`.\n   */\n  function cacheIndexOf(cache, value) {\n    var type = typeof value;\n    cache = cache.cache;\n\n    if (type == 'boolean' || value == null) {\n      return cache[value] ? 0 : -1;\n    }\n    if (type != 'number' && type != 'string') {\n      type = 'object';\n    }\n    var key = type == 'number' ? value : keyPrefix + value;\n    cache = (cache = cache[type]) && cache[key];\n\n    return type == 'object'\n      ? (cache && baseIndexOf(cache, value) > -1 ? 0 : -1)\n      : (cache ? 0 : -1);\n  }\n\n  /**\n   * Adds a given value to the corresponding cache object.\n   *\n   * @private\n   * @param {*} value The value to add to the cache.\n   */\n  function cachePush(value) {\n    var cache = this.cache,\n        type = typeof value;\n\n    if (type == 'boolean' || value == null) {\n      cache[value] = true;\n    } else {\n      if (type != 'number' && type != 'string') {\n        type = 'object';\n      }\n      var key = type == 'number' ? value : keyPrefix + value,\n          typeCache = cache[type] || (cache[type] = {});\n\n      if (type == 'object') {\n        (typeCache[key] || (typeCache[key] = [])).push(value);\n      } else {\n        typeCache[key] = true;\n      }\n    }\n  }\n\n  /**\n   * Used by `_.max` and `_.min` as the default callback when a given\n   * collection is a string value.\n   *\n   * @private\n   * @param {string} value The character to inspect.\n   * @returns {number} Returns the code unit of given character.\n   */\n  function charAtCallback(value) {\n    return value.charCodeAt(0);\n  }\n\n  /**\n   * Used by `sortBy` to compare transformed `collection` elements, stable sorting\n   * them in ascending order.\n   *\n   * @private\n   * @param {Object} a The object to compare to `b`.\n   * @param {Object} b The object to compare to `a`.\n   * @returns {number} Returns the sort order indicator of `1` or `-1`.\n   */\n  function compareAscending(a, b) {\n    var ac = a.criteria,\n        bc = b.criteria,\n        index = -1,\n        length = ac.length;\n\n    while (++index < length) {\n      var value = ac[index],\n          other = bc[index];\n\n      if (value !== other) {\n        if (value > other || typeof value == 'undefined') {\n          return 1;\n        }\n        if (value < other || typeof other == 'undefined') {\n          return -1;\n        }\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to return the same value for\n    // `a` and `b`. See https://github.com/jashkenas/underscore/pull/1247\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See http://code.google.com/p/v8/issues/detail?id=90\n    return a.index - b.index;\n  }\n\n  /**\n   * Creates a cache object to optimize linear searches of large arrays.\n   *\n   * @private\n   * @param {Array} [array=[]] The array to search.\n   * @returns {null|Object} Returns the cache object or `null` if caching should not be used.\n   */\n  function createCache(array) {\n    var index = -1,\n        length = array.length,\n        first = array[0],\n        mid = array[(length / 2) | 0],\n        last = array[length - 1];\n\n    if (first && typeof first == 'object' &&\n        mid && typeof mid == 'object' && last && typeof last == 'object') {\n      return false;\n    }\n    var cache = getObject();\n    cache['false'] = cache['null'] = cache['true'] = cache['undefined'] = false;\n\n    var result = getObject();\n    result.array = array;\n    result.cache = cache;\n    result.push = cachePush;\n\n    while (++index < length) {\n      result.push(array[index]);\n    }\n    return result;\n  }\n\n  /**\n   * Used by `template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} match The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(match) {\n    return '\\\\' + stringEscapes[match];\n  }\n\n  /**\n   * Gets an array from the array pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Array} The array from the pool.\n   */\n  function getArray() {\n    return arrayPool.pop() || [];\n  }\n\n  /**\n   * Gets an object from the object pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Object} The object from the pool.\n   */\n  function getObject() {\n    return objectPool.pop() || {\n      'array': null,\n      'cache': null,\n      'criteria': null,\n      'false': false,\n      'index': 0,\n      'null': false,\n      'number': null,\n      'object': null,\n      'push': null,\n      'string': null,\n      'true': false,\n      'undefined': false,\n      'value': null\n    };\n  }\n\n  /**\n   * Releases the given array back to the array pool.\n   *\n   * @private\n   * @param {Array} [array] The array to release.\n   */\n  function releaseArray(array) {\n    array.length = 0;\n    if (arrayPool.length < maxPoolSize) {\n      arrayPool.push(array);\n    }\n  }\n\n  /**\n   * Releases the given object back to the object pool.\n   *\n   * @private\n   * @param {Object} [object] The object to release.\n   */\n  function releaseObject(object) {\n    var cache = object.cache;\n    if (cache) {\n      releaseObject(cache);\n    }\n    object.array = object.cache = object.criteria = object.object = object.number = object.string = object.value = null;\n    if (objectPool.length < maxPoolSize) {\n      objectPool.push(object);\n    }\n  }\n\n  /**\n   * Slices the `collection` from the `start` index up to, but not including,\n   * the `end` index.\n   *\n   * Note: This function is used instead of `Array#slice` to support node lists\n   * in IE < 9 and to ensure dense arrays are returned.\n   *\n   * @private\n   * @param {Array|Object|string} collection The collection to slice.\n   * @param {number} start The start index.\n   * @param {number} end The end index.\n   * @returns {Array} Returns the new array.\n   */\n  function slice(array, start, end) {\n    start || (start = 0);\n    if (typeof end == 'undefined') {\n      end = array ? array.length : 0;\n    }\n    var index = -1,\n        length = end - start || 0,\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = array[start + index];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new `lodash` function using the given context object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns the `lodash` function.\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See http://es5.github.io/#x11.1.5.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references */\n    var Array = context.Array,\n        Boolean = context.Boolean,\n        Date = context.Date,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /**\n     * Used for `Array` method references.\n     *\n     * Normally `Array.prototype` would suffice, however, using an array literal\n     * avoids issues in Narwhal.\n     */\n    var arrayRef = [];\n\n    /** Used for native method references */\n    var objectProto = Object.prototype;\n\n    /** Used to restore the original `_` reference in `noConflict` */\n    var oldDash = context._;\n\n    /** Used to resolve the internal [[Class]] of values */\n    var toString = objectProto.toString;\n\n    /** Used to detect if a method is native */\n    var reNative = RegExp('^' +\n      String(toString)\n        .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n        .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n    );\n\n    /** Native method shortcuts */\n    var ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        floor = Math.floor,\n        fnToString = Function.prototype.toString,\n        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n        hasOwnProperty = objectProto.hasOwnProperty,\n        push = arrayRef.push,\n        setTimeout = context.setTimeout,\n        splice = arrayRef.splice,\n        unshift = arrayRef.unshift;\n\n    /** Used to set meta data on functions */\n    var defineProperty = (function() {\n      // IE 8 only accepts DOM elements\n      try {\n        var o = {},\n            func = isNative(func = Object.defineProperty) && func,\n            result = func(o, o, o) && func;\n      } catch(e) { }\n      return result;\n    }());\n\n    /* Native method shortcuts for methods with the same name as other `lodash` methods */\n    var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n        nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n        nativeIsFinite = context.isFinite,\n        nativeIsNaN = context.isNaN,\n        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used to lookup a built-in constructor by [[Class]] */\n    var ctorByClass = {};\n    ctorByClass[arrayClass] = Array;\n    ctorByClass[boolClass] = Boolean;\n    ctorByClass[dateClass] = Date;\n    ctorByClass[funcClass] = Function;\n    ctorByClass[objectClass] = Object;\n    ctorByClass[numberClass] = Number;\n    ctorByClass[regexpClass] = RegExp;\n    ctorByClass[stringClass] = String;\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps the given value to enable intuitive\n     * method chaining.\n     *\n     * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n     * and `unshift`\n     *\n     * Chaining is supported in custom builds as long as the `value` method is\n     * implicitly or explicitly included in the build.\n     *\n     * The chainable wrapper functions are:\n     * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,\n     * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,\n     * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,\n     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n     * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,\n     * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,\n     * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,\n     * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,\n     * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,\n     * and `zip`\n     *\n     * The non-chainable wrapper functions are:\n     * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,\n     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,\n     * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n     * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,\n     * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,\n     * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,\n     * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,\n     * `template`, `unescape`, `uniqueId`, and `value`\n     *\n     * The wrapper functions `first` and `last` return wrapped values when `n` is\n     * provided, otherwise they return unwrapped values.\n     *\n     * Explicit chaining can be enabled by using the `_.chain` method.\n     *\n     * @name _\n     * @constructor\n     * @category Chaining\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns a `lodash` instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(sum, num) {\n     *   return sum + num;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(num) {\n     *   return num * num;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      // don't wrap if already wrapped, even if wrapped by a different `lodash` constructor\n      return (value && typeof value == 'object' && !isArray(value) && hasOwnProperty.call(value, '__wrapped__'))\n       ? value\n       : new lodashWrapper(value);\n    }\n\n    /**\n     * A fast path for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @param {boolean} chainAll A flag to enable chaining for all methods\n     * @returns {Object} Returns a `lodash` instance.\n     */\n    function lodashWrapper(value, chainAll) {\n      this.__chain__ = !!chainAll;\n      this.__wrapped__ = value;\n    }\n    // ensure `new lodashWrapper` is an instance of `lodash`\n    lodashWrapper.prototype = lodash.prototype;\n\n    /**\n     * An object used to flag environments features.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    /**\n     * Detect if functions can be decompiled by `Function#toString`\n     * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcDecomp = !isNative(context.WinRTError) && reThis.test(runInContext);\n\n    /**\n     * Detect if `Function#name` is supported (all but IE).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcNames = typeof Function.name == 'string';\n\n    /**\n     * By default, the template delimiters used by Lo-Dash are similar to those in\n     * embedded Ruby (ERB). Change the following template settings to use alternative\n     * delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': /<%-([\\s\\S]+?)%>/g,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': /<%([\\s\\S]+?)%>/g,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * The base implementation of `_.bind` that creates the bound function and\n     * sets its meta data.\n     *\n     * @private\n     * @param {Array} bindData The bind data array.\n     * @returns {Function} Returns the new bound function.\n     */\n    function baseBind(bindData) {\n      var func = bindData[0],\n          partialArgs = bindData[2],\n          thisArg = bindData[4];\n\n      function bound() {\n        // `Function#bind` spec\n        // http://es5.github.io/#x15.3.4.5\n        if (partialArgs) {\n          // avoid `arguments` object deoptimizations by using `slice` instead\n          // of `Array.prototype.slice.call` and not assigning `arguments` to a\n          // variable as a ternary expression\n          var args = slice(partialArgs);\n          push.apply(args, arguments);\n        }\n        // mimic the constructor's `return` behavior\n        // http://es5.github.io/#x13.2.2\n        if (this instanceof bound) {\n          // ensure `new bound` is an instance of `func`\n          var thisBinding = baseCreate(func.prototype),\n              result = func.apply(thisBinding, args || arguments);\n          return isObject(result) ? result : thisBinding;\n        }\n        return func.apply(thisArg, args || arguments);\n      }\n      setBindData(bound, bindData);\n      return bound;\n    }\n\n    /**\n     * The base implementation of `_.clone` without argument juggling or support\n     * for `thisArg` binding.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep=false] Specify a deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, callback, stackA, stackB) {\n      if (callback) {\n        var result = callback(value);\n        if (typeof result != 'undefined') {\n          return result;\n        }\n      }\n      // inspect [[Class]]\n      var isObj = isObject(value);\n      if (isObj) {\n        var className = toString.call(value);\n        if (!cloneableClasses[className]) {\n          return value;\n        }\n        var ctor = ctorByClass[className];\n        switch (className) {\n          case boolClass:\n          case dateClass:\n            return new ctor(+value);\n\n          case numberClass:\n          case stringClass:\n            return new ctor(value);\n\n          case regexpClass:\n            result = ctor(value.source, reFlags.exec(value));\n            result.lastIndex = value.lastIndex;\n            return result;\n        }\n      } else {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isDeep) {\n        // check for circular references and return corresponding clone\n        var initedStack = !stackA;\n        stackA || (stackA = getArray());\n        stackB || (stackB = getArray());\n\n        var length = stackA.length;\n        while (length--) {\n          if (stackA[length] == value) {\n            return stackB[length];\n          }\n        }\n        result = isArr ? ctor(value.length) : {};\n      }\n      else {\n        result = isArr ? slice(value) : assign({}, value);\n      }\n      // add array properties assigned by `RegExp#exec`\n      if (isArr) {\n        if (hasOwnProperty.call(value, 'index')) {\n          result.index = value.index;\n        }\n        if (hasOwnProperty.call(value, 'input')) {\n          result.input = value.input;\n        }\n      }\n      // exit for shallow clone\n      if (!isDeep) {\n        return result;\n      }\n      // add the source value to the stack of traversed objects\n      // and associate it with its clone\n      stackA.push(value);\n      stackB.push(result);\n\n      // recursively populate clone (susceptible to call stack limits)\n      (isArr ? forEach : forOwn)(value, function(objValue, key) {\n        result[key] = baseClone(objValue, isDeep, callback, stackA, stackB);\n      });\n\n      if (initedStack) {\n        releaseArray(stackA);\n        releaseArray(stackB);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    function baseCreate(prototype, properties) {\n      return isObject(prototype) ? nativeCreate(prototype) : {};\n    }\n    // fallback for browsers without `Object.create`\n    if (!nativeCreate) {\n      baseCreate = (function() {\n        function Object() {}\n        return function(prototype) {\n          if (isObject(prototype)) {\n            Object.prototype = prototype;\n            var result = new Object;\n            Object.prototype = null;\n          }\n          return result || context.Object();\n        };\n      }());\n    }\n\n    /**\n     * The base implementation of `_.createCallback` without support for creating\n     * \"_.pluck\" or \"_.where\" style callbacks.\n     *\n     * @private\n     * @param {*} [func=identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of the created callback.\n     * @param {number} [argCount] The number of arguments the callback accepts.\n     * @returns {Function} Returns a callback function.\n     */\n    function baseCreateCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      // exit early for no `thisArg` or already bound by `Function#bind`\n      if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n        return func;\n      }\n      var bindData = func.__bindData__;\n      if (typeof bindData == 'undefined') {\n        if (support.funcNames) {\n          bindData = !func.name;\n        }\n        bindData = bindData || !support.funcDecomp;\n        if (!bindData) {\n          var source = fnToString.call(func);\n          if (!support.funcNames) {\n            bindData = !reFuncName.test(source);\n          }\n          if (!bindData) {\n            // checks if `func` references the `this` keyword and stores the result\n            bindData = reThis.test(source);\n            setBindData(func, bindData);\n          }\n        }\n      }\n      // exit early if there are no `this` references or `func` is bound\n      if (bindData === false || (bindData !== true && bindData[1] & 1)) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 2: return function(a, b) {\n          return func.call(thisArg, a, b);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n      }\n      return bind(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `createWrapper` that creates the wrapper and\n     * sets its meta data.\n     *\n     * @private\n     * @param {Array} bindData The bind data array.\n     * @returns {Function} Returns the new function.\n     */\n    function baseCreateWrapper(bindData) {\n      var func = bindData[0],\n          bitmask = bindData[1],\n          partialArgs = bindData[2],\n          partialRightArgs = bindData[3],\n          thisArg = bindData[4],\n          arity = bindData[5];\n\n      var isBind = bitmask & 1,\n          isBindKey = bitmask & 2,\n          isCurry = bitmask & 4,\n          isCurryBound = bitmask & 8,\n          key = func;\n\n      function bound() {\n        var thisBinding = isBind ? thisArg : this;\n        if (partialArgs) {\n          var args = slice(partialArgs);\n          push.apply(args, arguments);\n        }\n        if (partialRightArgs || isCurry) {\n          args || (args = slice(arguments));\n          if (partialRightArgs) {\n            push.apply(args, partialRightArgs);\n          }\n          if (isCurry && args.length < arity) {\n            bitmask |= 16 & ~32;\n            return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n          }\n        }\n        args || (args = arguments);\n        if (isBindKey) {\n          func = thisBinding[key];\n        }\n        if (this instanceof bound) {\n          thisBinding = baseCreate(func.prototype);\n          var result = func.apply(thisBinding, args);\n          return isObject(result) ? result : thisBinding;\n        }\n        return func.apply(thisBinding, args);\n      }\n      setBindData(bound, bindData);\n      return bound;\n    }\n\n    /**\n     * The base implementation of `_.difference` that accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to process.\n     * @param {Array} [values] The array of values to exclude.\n     * @returns {Array} Returns a new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array ? array.length : 0,\n          isLarge = length >= largeArraySize && indexOf === baseIndexOf,\n          result = [];\n\n      if (isLarge) {\n        var cache = createCache(values);\n        if (cache) {\n          indexOf = cacheIndexOf;\n          values = cache;\n        } else {\n          isLarge = false;\n        }\n      }\n      while (++index < length) {\n        var value = array[index];\n        if (indexOf(values, value) < 0) {\n          result.push(value);\n        }\n      }\n      if (isLarge) {\n        releaseObject(values);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` without support for callback\n     * shorthands or `thisArg` binding.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n     * @param {boolean} [isStrict=false] A flag to restrict flattening to arrays and `arguments` objects.\n     * @param {number} [fromIndex=0] The index to start from.\n     * @returns {Array} Returns a new flattened array.\n     */\n    function baseFlatten(array, isShallow, isStrict, fromIndex) {\n      var index = (fromIndex || 0) - 1,\n          length = array ? array.length : 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (value && typeof value == 'object' && typeof value.length == 'number'\n            && (isArray(value) || isArguments(value))) {\n          // recursively flatten arrays (susceptible to call stack limits)\n          if (!isShallow) {\n            value = baseFlatten(value, isShallow, isStrict);\n          }\n          var valIndex = -1,\n              valLength = value.length,\n              resIndex = result.length;\n\n          result.length += valLength;\n          while (++valIndex < valLength) {\n            result[resIndex++] = value[valIndex];\n          }\n        } else if (!isStrict) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isEqual`, without support for `thisArg` binding,\n     * that allows partial \"_.where\" style comparisons.\n     *\n     * @private\n     * @param {*} a The value to compare.\n     * @param {*} b The other value to compare.\n     * @param {Function} [callback] The function to customize comparing values.\n     * @param {Function} [isWhere=false] A flag to indicate performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `a` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `b` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(a, b, callback, isWhere, stackA, stackB) {\n      // used to indicate that when comparing objects, `a` has at least the properties of `b`\n      if (callback) {\n        var result = callback(a, b);\n        if (typeof result != 'undefined') {\n          return !!result;\n        }\n      }\n      // exit early for identical values\n      if (a === b) {\n        // treat `+0` vs. `-0` as not equal\n        return a !== 0 || (1 / a == 1 / b);\n      }\n      var type = typeof a,\n          otherType = typeof b;\n\n      // exit early for unlike primitive values\n      if (a === a &&\n          !(a && objectTypes[type]) &&\n          !(b && objectTypes[otherType])) {\n        return false;\n      }\n      // exit early for `null` and `undefined` avoiding ES3's Function#call behavior\n      // http://es5.github.io/#x15.3.4.4\n      if (a == null || b == null) {\n        return a === b;\n      }\n      // compare [[Class]] names\n      var className = toString.call(a),\n          otherClass = toString.call(b);\n\n      if (className == argsClass) {\n        className = objectClass;\n      }\n      if (otherClass == argsClass) {\n        otherClass = objectClass;\n      }\n      if (className != otherClass) {\n        return false;\n      }\n      switch (className) {\n        case boolClass:\n        case dateClass:\n          // coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal\n          return +a == +b;\n\n        case numberClass:\n          // treat `NaN` vs. `NaN` as equal\n          return (a != +a)\n            ? b != +b\n            // but treat `+0` vs. `-0` as not equal\n            : (a == 0 ? (1 / a == 1 / b) : a == +b);\n\n        case regexpClass:\n        case stringClass:\n          // coerce regexes to strings (http://es5.github.io/#x15.10.6.4)\n          // treat string primitives and their corresponding object instances as equal\n          return a == String(b);\n      }\n      var isArr = className == arrayClass;\n      if (!isArr) {\n        // unwrap any `lodash` wrapped values\n        var aWrapped = hasOwnProperty.call(a, '__wrapped__'),\n            bWrapped = hasOwnProperty.call(b, '__wrapped__');\n\n        if (aWrapped || bWrapped) {\n          return baseIsEqual(aWrapped ? a.__wrapped__ : a, bWrapped ? b.__wrapped__ : b, callback, isWhere, stackA, stackB);\n        }\n        // exit for functions and DOM nodes\n        if (className != objectClass) {\n          return false;\n        }\n        // in older versions of Opera, `arguments` objects have `Array` constructors\n        var ctorA = a.constructor,\n            ctorB = b.constructor;\n\n        // non `Object` object instances with different constructors are not equal\n        if (ctorA != ctorB &&\n              !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB) &&\n              ('constructor' in a && 'constructor' in b)\n            ) {\n          return false;\n        }\n      }\n      // assume cyclic structures are equal\n      // the algorithm for detecting cyclic structures is adapted from ES 5.1\n      // section 15.12.3, abstract operation `JO` (http://es5.github.io/#x15.12.3)\n      var initedStack = !stackA;\n      stackA || (stackA = getArray());\n      stackB || (stackB = getArray());\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == a) {\n          return stackB[length] == b;\n        }\n      }\n      var size = 0;\n      result = true;\n\n      // add `a` and `b` to the stack of traversed objects\n      stackA.push(a);\n      stackB.push(b);\n\n      // recursively compare objects and arrays (susceptible to call stack limits)\n      if (isArr) {\n        // compare lengths to determine if a deep comparison is necessary\n        length = a.length;\n        size = b.length;\n        result = size == length;\n\n        if (result || isWhere) {\n          // deep compare the contents, ignoring non-numeric properties\n          while (size--) {\n            var index = length,\n                value = b[size];\n\n            if (isWhere) {\n              while (index--) {\n                if ((result = baseIsEqual(a[index], value, callback, isWhere, stackA, stackB))) {\n                  break;\n                }\n              }\n            } else if (!(result = baseIsEqual(a[size], value, callback, isWhere, stackA, stackB))) {\n              break;\n            }\n          }\n        }\n      }\n      else {\n        // deep compare objects using `forIn`, instead of `forOwn`, to avoid `Object.keys`\n        // which, in this case, is more costly\n        forIn(b, function(value, key, b) {\n          if (hasOwnProperty.call(b, key)) {\n            // count the number of properties.\n            size++;\n            // deep compare each property value.\n            return (result = hasOwnProperty.call(a, key) && baseIsEqual(a[key], value, callback, isWhere, stackA, stackB));\n          }\n        });\n\n        if (result && !isWhere) {\n          // ensure both objects have the same number of properties\n          forIn(a, function(value, key, a) {\n            if (hasOwnProperty.call(a, key)) {\n              // `size` will be `-1` if `a` has more properties than `b`\n              return (result = --size > -1);\n            }\n          });\n        }\n      }\n      stackA.pop();\n      stackB.pop();\n\n      if (initedStack) {\n        releaseArray(stackA);\n        releaseArray(stackB);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.merge` without argument juggling or support\n     * for `thisArg` binding.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [callback] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     */\n    function baseMerge(object, source, callback, stackA, stackB) {\n      (isArray(source) ? forEach : forOwn)(source, function(source, key) {\n        var found,\n            isArr,\n            result = source,\n            value = object[key];\n\n        if (source && ((isArr = isArray(source)) || isPlainObject(source))) {\n          // avoid merging previously merged cyclic sources\n          var stackLength = stackA.length;\n          while (stackLength--) {\n            if ((found = stackA[stackLength] == source)) {\n              value = stackB[stackLength];\n              break;\n            }\n          }\n          if (!found) {\n            var isShallow;\n            if (callback) {\n              result = callback(value, source);\n              if ((isShallow = typeof result != 'undefined')) {\n                value = result;\n              }\n            }\n            if (!isShallow) {\n              value = isArr\n                ? (isArray(value) ? value : [])\n                : (isPlainObject(value) ? value : {});\n            }\n            // add `source` and associated `value` to the stack of traversed objects\n            stackA.push(source);\n            stackB.push(value);\n\n            // recursively merge objects and arrays (susceptible to call stack limits)\n            if (!isShallow) {\n              baseMerge(value, source, callback, stackA, stackB);\n            }\n          }\n        }\n        else {\n          if (callback) {\n            result = callback(value, source);\n            if (typeof result == 'undefined') {\n              result = source;\n            }\n          }\n          if (typeof result != 'undefined') {\n            value = result;\n          }\n        }\n        object[key] = value;\n      });\n    }\n\n    /**\n     * The base implementation of `_.random` without argument juggling or support\n     * for returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns a random number.\n     */\n    function baseRandom(min, max) {\n      return min + floor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * or `thisArg` binding.\n     *\n     * @private\n     * @param {Array} array The array to process.\n     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n     * @param {Function} [callback] The function called per iteration.\n     * @returns {Array} Returns a duplicate-value-free array.\n     */\n    function baseUniq(array, isSorted, callback) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array ? array.length : 0,\n          result = [];\n\n      var isLarge = !isSorted && length >= largeArraySize && indexOf === baseIndexOf,\n          seen = (callback || isLarge) ? getArray() : result;\n\n      if (isLarge) {\n        var cache = createCache(seen);\n        indexOf = cacheIndexOf;\n        seen = cache;\n      }\n      while (++index < length) {\n        var value = array[index],\n            computed = callback ? callback(value, index, array) : value;\n\n        if (isSorted\n              ? !index || seen[seen.length - 1] !== computed\n              : indexOf(seen, computed) < 0\n            ) {\n          if (callback || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      if (isLarge) {\n        releaseArray(seen.array);\n        releaseObject(seen);\n      } else if (callback) {\n        releaseArray(seen);\n      }\n      return result;\n    }\n\n    /**\n     * Creates a function that aggregates a collection, creating an object composed\n     * of keys generated from the results of running each element of the collection\n     * through a callback. The given `setter` function sets the keys and values\n     * of the composed object.\n     *\n     * @private\n     * @param {Function} setter The setter function.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter) {\n      return function(collection, callback, thisArg) {\n        var result = {};\n        callback = lodash.createCallback(callback, thisArg, 3);\n\n        var index = -1,\n            length = collection ? collection.length : 0;\n\n        if (typeof length == 'number') {\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, callback(value, index, collection), collection);\n          }\n        } else {\n          forOwn(collection, function(value, key, collection) {\n            setter(result, value, callback(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that, when called, either curries or invokes `func`\n     * with an optional `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of method flags to compose.\n     *  The bitmask may be composed of the following flags:\n     *  1 - `_.bind`\n     *  2 - `_.bindKey`\n     *  4 - `_.curry`\n     *  8 - `_.curry` (bound)\n     *  16 - `_.partial`\n     *  32 - `_.partialRight`\n     * @param {Array} [partialArgs] An array of arguments to prepend to those\n     *  provided to the new function.\n     * @param {Array} [partialRightArgs] An array of arguments to append to those\n     *  provided to the new function.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new function.\n     */\n    function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n      var isBind = bitmask & 1,\n          isBindKey = bitmask & 2,\n          isCurry = bitmask & 4,\n          isCurryBound = bitmask & 8,\n          isPartial = bitmask & 16,\n          isPartialRight = bitmask & 32;\n\n      if (!isBindKey && !isFunction(func)) {\n        throw new TypeError;\n      }\n      if (isPartial && !partialArgs.length) {\n        bitmask &= ~16;\n        isPartial = partialArgs = false;\n      }\n      if (isPartialRight && !partialRightArgs.length) {\n        bitmask &= ~32;\n        isPartialRight = partialRightArgs = false;\n      }\n      var bindData = func && func.__bindData__;\n      if (bindData && bindData !== true) {\n        // clone `bindData`\n        bindData = slice(bindData);\n        if (bindData[2]) {\n          bindData[2] = slice(bindData[2]);\n        }\n        if (bindData[3]) {\n          bindData[3] = slice(bindData[3]);\n        }\n        // set `thisBinding` is not previously bound\n        if (isBind && !(bindData[1] & 1)) {\n          bindData[4] = thisArg;\n        }\n        // set if previously bound but not currently (subsequent curried functions)\n        if (!isBind && bindData[1] & 1) {\n          bitmask |= 8;\n        }\n        // set curried arity if not yet set\n        if (isCurry && !(bindData[1] & 4)) {\n          bindData[5] = arity;\n        }\n        // append partial left arguments\n        if (isPartial) {\n          push.apply(bindData[2] || (bindData[2] = []), partialArgs);\n        }\n        // append partial right arguments\n        if (isPartialRight) {\n          unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);\n        }\n        // merge flags\n        bindData[1] |= bitmask;\n        return createWrapper.apply(null, bindData);\n      }\n      // fast path for `_.bind`\n      var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n      return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n    }\n\n    /**\n     * Used by `escape` to convert characters to HTML entities.\n     *\n     * @private\n     * @param {string} match The matched character to escape.\n     * @returns {string} Returns the escaped character.\n     */\n    function escapeHtmlChar(match) {\n      return htmlEscapes[match];\n    }\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized, this method returns the custom method, otherwise it returns\n     * the `baseIndexOf` function.\n     *\n     * @private\n     * @returns {Function} Returns the \"indexOf\" function.\n     */\n    function getIndexOf() {\n      var result = (result = lodash.indexOf) === indexOf ? baseIndexOf : result;\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n     */\n    function isNative(value) {\n      return typeof value == 'function' && reNative.test(value);\n    }\n\n    /**\n     * Sets `this` binding data on a given function.\n     *\n     * @private\n     * @param {Function} func The function to set data on.\n     * @param {Array} value The data array to set.\n     */\n    var setBindData = !defineProperty ? noop : function(func, value) {\n      descriptor.value = value;\n      defineProperty(func, '__bindData__', descriptor);\n    };\n\n    /**\n     * A fallback implementation of `isPlainObject` which checks if a given value\n     * is an object created by the `Object` constructor, assuming objects created\n     * by the `Object` constructor have no inherited enumerable properties and that\n     * there are no `Object.prototype` extensions.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      var ctor,\n          result;\n\n      // avoid non Object objects, `arguments` objects, and DOM elements\n      if (!(value && toString.call(value) == objectClass) ||\n          (ctor = value.constructor, isFunction(ctor) && !(ctor instanceof ctor))) {\n        return false;\n      }\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      forIn(value, function(value, key) {\n        result = key;\n      });\n      return typeof result == 'undefined' || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * Used by `unescape` to convert HTML entities to characters.\n     *\n     * @private\n     * @param {string} match The matched character to unescape.\n     * @returns {string} Returns the unescaped character.\n     */\n    function unescapeHtmlChar(match) {\n      return htmlUnescapes[match];\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `value` is an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.\n     * @example\n     *\n     * (function() { return _.isArguments(arguments); })(1, 2, 3);\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        toString.call(value) == argsClass || false;\n    }\n\n    /**\n     * Checks if `value` is an array.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n     * @example\n     *\n     * (function() { return _.isArray(arguments); })();\n     * // => false\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     */\n    var isArray = nativeIsArray || function(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        toString.call(value) == arrayClass || false;\n    };\n\n    /**\n     * A fallback implementation of `Object.keys` which produces an array of the\n     * given object's own enumerable property names.\n     *\n     * @private\n     * @type Function\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property names.\n     */\n    var shimKeys = function(object) {\n      var index, iterable = object, result = [];\n      if (!iterable) return result;\n      if (!(objectTypes[typeof object])) return result;\n        for (index in iterable) {\n          if (hasOwnProperty.call(iterable, index)) {\n            result.push(index);\n          }\n        }\n      return result\n    };\n\n    /**\n     * Creates an array composed of the own enumerable property names of an object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property names.\n     * @example\n     *\n     * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      if (!isObject(object)) {\n        return [];\n      }\n      return nativeKeys(object);\n    };\n\n    /**\n     * Used to convert characters to HTML entities:\n     *\n     * Though the `>` character is escaped for symmetry, characters like `>` and `/`\n     * don't require escaping in HTML and have no special meaning unless they're part\n     * of a tag or an unquoted attribute value.\n     * http://mathiasbynens.be/notes/ambiguous-ampersands (under \"semi-related fun fact\")\n     */\n    var htmlEscapes = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#39;'\n    };\n\n    /** Used to convert HTML entities to characters */\n    var htmlUnescapes = invert(htmlEscapes);\n\n    /** Used to match HTML entities and HTML characters */\n    var reEscapedHtml = RegExp('(' + keys(htmlUnescapes).join('|') + ')', 'g'),\n        reUnescapedHtml = RegExp('[' + keys(htmlEscapes).join('') + ']', 'g');\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources will overwrite property assignments of previous\n     * sources. If a callback is provided it will be executed to produce the\n     * assigned values. The callback is bound to `thisArg` and invoked with two\n     * arguments; (objectValue, sourceValue).\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @alias extend\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {...Object} [source] The source objects.\n     * @param {Function} [callback] The function to customize assigning values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n     * // => { 'name': 'fred', 'employer': 'slate' }\n     *\n     * var defaults = _.partialRight(_.assign, function(a, b) {\n     *   return typeof a == 'undefined' ? b : a;\n     * });\n     *\n     * var object = { 'name': 'barney' };\n     * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n     * // => { 'name': 'barney', 'employer': 'slate' }\n     */\n    var assign = function(object, source, guard) {\n      var index, iterable = object, result = iterable;\n      if (!iterable) return result;\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = typeof guard == 'number' ? 2 : args.length;\n      if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n        var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n      } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n        callback = args[--argsLength];\n      }\n      while (++argsIndex < argsLength) {\n        iterable = args[argsIndex];\n        if (iterable && objectTypes[typeof iterable]) {\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];\n        }\n        }\n      }\n      return result\n    };\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects will also\n     * be cloned, otherwise they will be assigned by reference. If a callback\n     * is provided it will be executed to produce the cloned values. If the\n     * callback returns `undefined` cloning will be handled by the method instead.\n     * The callback is bound to `thisArg` and invoked with one argument; (value).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep=false] Specify a deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * var shallow = _.clone(characters);\n     * shallow[0] === characters[0];\n     * // => true\n     *\n     * var deep = _.clone(characters, true);\n     * deep[0] === characters[0];\n     * // => false\n     *\n     * _.mixin({\n     *   'clone': _.partialRight(_.clone, function(value) {\n     *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n     *   })\n     * });\n     *\n     * var clone = _.clone(document.body);\n     * clone.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, callback, thisArg) {\n      // allows working with \"Collections\" methods without using their `index`\n      // and `collection` arguments for `isDeep` and `callback`\n      if (typeof isDeep != 'boolean' && isDeep != null) {\n        thisArg = callback;\n        callback = isDeep;\n        isDeep = false;\n      }\n      return baseClone(value, isDeep, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));\n    }\n\n    /**\n     * Creates a deep clone of `value`. If a callback is provided it will be\n     * executed to produce the cloned values. If the callback returns `undefined`\n     * cloning will be handled by the method instead. The callback is bound to\n     * `thisArg` and invoked with one argument; (value).\n     *\n     * Note: This method is loosely based on the structured clone algorithm. Functions\n     * and DOM nodes are **not** cloned. The enumerable properties of `arguments` objects and\n     * objects created by constructors other than `Object` are cloned to plain `Object` objects.\n     * See http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * var deep = _.cloneDeep(characters);\n     * deep[0] === characters[0];\n     * // => false\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'node': element\n     * };\n     *\n     * var clone = _.cloneDeep(view, function(value) {\n     *   return _.isElement(value) ? value.cloneNode(true) : undefined;\n     * });\n     *\n     * clone.node == view.node;\n     * // => false\n     */\n    function cloneDeep(value, callback, thisArg) {\n      return baseClone(value, true, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));\n    }\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, { 'constructor': Circle });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties ? assign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional defaults of the same property will be ignored.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {...Object} [source] The source objects.\n     * @param- {Object} [guard] Allows working with `_.reduce` without using its\n     *  `key` and `object` arguments as sources.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * var object = { 'name': 'barney' };\n     * _.defaults(object, { 'name': 'fred', 'employer': 'slate' });\n     * // => { 'name': 'barney', 'employer': 'slate' }\n     */\n    var defaults = function(object, source, guard) {\n      var index, iterable = object, result = iterable;\n      if (!iterable) return result;\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = typeof guard == 'number' ? 2 : args.length;\n      while (++argsIndex < argsLength) {\n        iterable = args[argsIndex];\n        if (iterable && objectTypes[typeof iterable]) {\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          if (typeof result[index] == 'undefined') result[index] = iterable[index];\n        }\n        }\n      }\n      return result\n    };\n\n    /**\n     * This method is like `_.findIndex` except that it returns the key of the\n     * first element that passes the callback check, instead of the element itself.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [callback=identity] The function called per\n     *  iteration. If a property name or object is provided it will be used to\n     *  create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {string|undefined} Returns the key of the found element, else `undefined`.\n     * @example\n     *\n     * var characters = {\n     *   'barney': {  'age': 36, 'blocked': false },\n     *   'fred': {    'age': 40, 'blocked': true },\n     *   'pebbles': { 'age': 1,  'blocked': false }\n     * };\n     *\n     * _.findKey(characters, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (property order is not guaranteed across environments)\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findKey(characters, { 'age': 1 });\n     * // => 'pebbles'\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findKey(characters, 'blocked');\n     * // => 'fred'\n     */\n    function findKey(object, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      forOwn(object, function(value, key, object) {\n        if (callback(value, key, object)) {\n          result = key;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements\n     * of a `collection` in the opposite order.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [callback=identity] The function called per\n     *  iteration. If a property name or object is provided it will be used to\n     *  create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {string|undefined} Returns the key of the found element, else `undefined`.\n     * @example\n     *\n     * var characters = {\n     *   'barney': {  'age': 36, 'blocked': true },\n     *   'fred': {    'age': 40, 'blocked': false },\n     *   'pebbles': { 'age': 1,  'blocked': true }\n     * };\n     *\n     * _.findLastKey(characters, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles`, assuming `_.findKey` returns `barney`\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findLastKey(characters, { 'age': 40 });\n     * // => 'fred'\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findLastKey(characters, 'blocked');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      forOwnRight(object, function(value, key, object) {\n        if (callback(value, key, object)) {\n          result = key;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object,\n     * executing the callback for each property. The callback is bound to `thisArg`\n     * and invoked with three arguments; (value, key, object). Callbacks may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * Shape.prototype.move = function(x, y) {\n     *   this.x += x;\n     *   this.y += y;\n     * };\n     *\n     * _.forIn(new Shape, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)\n     */\n    var forIn = function(collection, callback, thisArg) {\n      var index, iterable = collection, result = iterable;\n      if (!iterable) return result;\n      if (!objectTypes[typeof iterable]) return result;\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n        for (index in iterable) {\n          if (callback(iterable[index], index, collection) === false) return result;\n        }\n      return result\n    };\n\n    /**\n     * This method is like `_.forIn` except that it iterates over elements\n     * of a `collection` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * Shape.prototype.move = function(x, y) {\n     *   this.x += x;\n     *   this.y += y;\n     * };\n     *\n     * _.forInRight(new Shape, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'move', 'y', and 'x' assuming `_.forIn ` logs 'x', 'y', and 'move'\n     */\n    function forInRight(object, callback, thisArg) {\n      var pairs = [];\n\n      forIn(object, function(value, key) {\n        pairs.push(key, value);\n      });\n\n      var length = pairs.length;\n      callback = baseCreateCallback(callback, thisArg, 3);\n      while (length--) {\n        if (callback(pairs[length--], pairs[length], object) === false) {\n          break;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Iterates over own enumerable properties of an object, executing the callback\n     * for each property. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, key, object). Callbacks may exit iteration early by\n     * explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n     *   console.log(key);\n     * });\n     * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n     */\n    var forOwn = function(collection, callback, thisArg) {\n      var index, iterable = collection, result = iterable;\n      if (!iterable) return result;\n      if (!objectTypes[typeof iterable]) return result;\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          if (callback(iterable[index], index, collection) === false) return result;\n        }\n      return result\n    };\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over elements\n     * of a `collection` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.forOwnRight({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'length', '1', and '0' assuming `_.forOwn` logs '0', '1', and 'length'\n     */\n    function forOwnRight(object, callback, thisArg) {\n      var props = keys(object),\n          length = props.length;\n\n      callback = baseCreateCallback(callback, thisArg, 3);\n      while (length--) {\n        var key = props[length];\n        if (callback(object[key], key, object) === false) {\n          break;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Creates a sorted array of property names of all enumerable properties,\n     * own and inherited, of `object` that have function values.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property names that have function values.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]\n     */\n    function functions(object) {\n      var result = [];\n      forIn(object, function(value, key) {\n        if (isFunction(value)) {\n          result.push(key);\n        }\n      });\n      return result.sort();\n    }\n\n    /**\n     * Checks if the specified property name exists as a direct property of `object`,\n     * instead of an inherited property.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @param {string} key The name of the property to check.\n     * @returns {boolean} Returns `true` if key is a direct property, else `false`.\n     * @example\n     *\n     * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');\n     * // => true\n     */\n    function has(object, key) {\n      return object ? hasOwnProperty.call(object, key) : false;\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of the given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the created inverted object.\n     * @example\n     *\n     * _.invert({ 'first': 'fred', 'second': 'barney' });\n     * // => { 'fred': 'first', 'barney': 'second' }\n     */\n    function invert(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        result[object[key]] = key;\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a boolean value.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a boolean value, else `false`.\n     * @example\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        value && typeof value == 'object' && toString.call(value) == boolClass || false;\n    }\n\n    /**\n     * Checks if `value` is a date.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a date, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     */\n    function isDate(value) {\n      return value && typeof value == 'object' && toString.call(value) == dateClass || false;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     */\n    function isElement(value) {\n      return value && value.nodeType === 1 || false;\n    }\n\n    /**\n     * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n     * length of `0` and objects with no own enumerable properties are considered\n     * \"empty\".\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({});\n     * // => true\n     *\n     * _.isEmpty('');\n     * // => true\n     */\n    function isEmpty(value) {\n      var result = true;\n      if (!value) {\n        return result;\n      }\n      var className = toString.call(value),\n          length = value.length;\n\n      if ((className == arrayClass || className == stringClass || className == argsClass ) ||\n          (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n        return !length;\n      }\n      forOwn(value, function() {\n        return (result = false);\n      });\n      return result;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent to each other. If a callback is provided it will be executed\n     * to compare values. If the callback returns `undefined` comparisons will\n     * be handled by the method instead. The callback is bound to `thisArg` and\n     * invoked with two arguments; (a, b).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} a The value to compare.\n     * @param {*} b The other value to compare.\n     * @param {Function} [callback] The function to customize comparing values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * var copy = { 'name': 'fred' };\n     *\n     * object == copy;\n     * // => false\n     *\n     * _.isEqual(object, copy);\n     * // => true\n     *\n     * var words = ['hello', 'goodbye'];\n     * var otherWords = ['hi', 'goodbye'];\n     *\n     * _.isEqual(words, otherWords, function(a, b) {\n     *   var reGreet = /^(?:hello|hi)$/i,\n     *       aGreet = _.isString(a) && reGreet.test(a),\n     *       bGreet = _.isString(b) && reGreet.test(b);\n     *\n     *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;\n     * });\n     * // => true\n     */\n    function isEqual(a, b, callback, thisArg) {\n      return baseIsEqual(a, b, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 2));\n    }\n\n    /**\n     * Checks if `value` is, or can be coerced to, a finite number.\n     *\n     * Note: This is not the same as native `isFinite` which will return true for\n     * booleans and empty strings. See http://es5.github.io/#x15.1.2.5.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is finite, else `false`.\n     * @example\n     *\n     * _.isFinite(-101);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => true\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite('');\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    function isFinite(value) {\n      return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));\n    }\n\n    /**\n     * Checks if `value` is a function.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     */\n    function isFunction(value) {\n      return typeof value == 'function';\n    }\n\n    /**\n     * Checks if `value` is the language type of Object.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // check if the value is the ECMAScript language type of Object\n      // http://es5.github.io/#x8\n      // and avoid a V8 bug\n      // http://code.google.com/p/v8/issues/detail?id=2291\n      return !!(value && objectTypes[typeof value]);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * Note: This is not the same as native `isNaN` which will return `true` for\n     * `undefined` and other non-numeric values. See http://es5.github.io/#x15.1.2.4.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // `NaN` as a primitive is the only value that is not equal to itself\n      // (perform the [[Class]] check first to avoid errors with some host objects in IE)\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(undefined);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is a number.\n     *\n     * Note: `NaN` is considered a number. See http://es5.github.io/#x8.5.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4 * 5);\n     * // => true\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        value && typeof value == 'object' && toString.call(value) == numberClass || false;\n    }\n\n    /**\n     * Checks if `value` is an object created by the `Object` constructor.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * _.isPlainObject(new Shape);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     */\n    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n      if (!(value && toString.call(value) == objectClass)) {\n        return false;\n      }\n      var valueOf = value.valueOf,\n          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is a regular expression.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a regular expression, else `false`.\n     * @example\n     *\n     * _.isRegExp(/fred/);\n     * // => true\n     */\n    function isRegExp(value) {\n      return value && typeof value == 'object' && toString.call(value) == regexpClass || false;\n    }\n\n    /**\n     * Checks if `value` is a string.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('fred');\n     * // => true\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        value && typeof value == 'object' && toString.call(value) == stringClass || false;\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     */\n    function isUndefined(value) {\n      return typeof value == 'undefined';\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through the callback.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new object with values of the results of each `callback` execution.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2, 'c': 3} , function(num) { return num * 3; });\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     *\n     * var characters = {\n     *   'fred': { 'name': 'fred', 'age': 40 },\n     *   'pebbles': { 'name': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.mapValues(characters, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 }\n     */\n    function mapValues(object, callback, thisArg) {\n      var result = {};\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      forOwn(object, function(value, key, object) {\n        result[key] = callback(value, key, object);\n      });\n      return result;\n    }\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * will overwrite property assignments of previous sources. If a callback is\n     * provided it will be executed to produce the merged values of the destination\n     * and source properties. If the callback returns `undefined` merging will\n     * be handled by the method instead. The callback is bound to `thisArg` and\n     * invoked with two arguments; (objectValue, sourceValue).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {...Object} [source] The source objects.\n     * @param {Function} [callback] The function to customize merging properties.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * var names = {\n     *   'characters': [\n     *     { 'name': 'barney' },\n     *     { 'name': 'fred' }\n     *   ]\n     * };\n     *\n     * var ages = {\n     *   'characters': [\n     *     { 'age': 36 },\n     *     { 'age': 40 }\n     *   ]\n     * };\n     *\n     * _.merge(names, ages);\n     * // => { 'characters': [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred', 'age': 40 }] }\n     *\n     * var food = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var otherFood = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(food, otherFood, function(a, b) {\n     *   return _.isArray(a) ? a.concat(b) : undefined;\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot] }\n     */\n    function merge(object) {\n      var args = arguments,\n          length = 2;\n\n      if (!isObject(object)) {\n        return object;\n      }\n      // allows working with `_.reduce` and `_.reduceRight` without using\n      // their `index` and `collection` arguments\n      if (typeof args[2] != 'number') {\n        length = args.length;\n      }\n      if (length > 3 && typeof args[length - 2] == 'function') {\n        var callback = baseCreateCallback(args[--length - 1], args[length--], 2);\n      } else if (length > 2 && typeof args[length - 1] == 'function') {\n        callback = args[--length];\n      }\n      var sources = slice(arguments, 1, length),\n          index = -1,\n          stackA = getArray(),\n          stackB = getArray();\n\n      while (++index < length) {\n        baseMerge(object, sources[index], callback, stackA, stackB);\n      }\n      releaseArray(stackA);\n      releaseArray(stackB);\n      return object;\n    }\n\n    /**\n     * Creates a shallow clone of `object` excluding the specified properties.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If a callback is provided it will be executed for each\n     * property of `object` omitting the properties the callback returns truey\n     * for. The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The source object.\n     * @param {Function|...string|string[]} [callback] The properties to omit or the\n     *  function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns an object without the omitted properties.\n     * @example\n     *\n     * _.omit({ 'name': 'fred', 'age': 40 }, 'age');\n     * // => { 'name': 'fred' }\n     *\n     * _.omit({ 'name': 'fred', 'age': 40 }, function(value) {\n     *   return typeof value == 'number';\n     * });\n     * // => { 'name': 'fred' }\n     */\n    function omit(object, callback, thisArg) {\n      var result = {};\n      if (typeof callback != 'function') {\n        var props = [];\n        forIn(object, function(value, key) {\n          props.push(key);\n        });\n        props = baseDifference(props, baseFlatten(arguments, true, false, 1));\n\n        var index = -1,\n            length = props.length;\n\n        while (++index < length) {\n          var key = props[index];\n          result[key] = object[key];\n        }\n      } else {\n        callback = lodash.createCallback(callback, thisArg, 3);\n        forIn(object, function(value, key, object) {\n          if (!callback(value, key, object)) {\n            result[key] = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Creates a two dimensional array of an object's key-value pairs,\n     * i.e. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (property order is not guaranteed across environments)\n     */\n    function pairs(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a shallow clone of `object` composed of the specified properties.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If a callback is provided it will be executed for each\n     * property of `object` picking the properties the callback returns truey\n     * for. The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The source object.\n     * @param {Function|...string|string[]} [callback] The function called per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns an object composed of the picked properties.\n     * @example\n     *\n     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, 'name');\n     * // => { 'name': 'fred' }\n     *\n     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, function(value, key) {\n     *   return key.charAt(0) != '_';\n     * });\n     * // => { 'name': 'fred' }\n     */\n    function pick(object, callback, thisArg) {\n      var result = {};\n      if (typeof callback != 'function') {\n        var index = -1,\n            props = baseFlatten(arguments, true, false, 1),\n            length = isObject(object) ? props.length : 0;\n\n        while (++index < length) {\n          var key = props[index];\n          if (key in object) {\n            result[key] = object[key];\n          }\n        }\n      } else {\n        callback = lodash.createCallback(callback, thisArg, 3);\n        forIn(object, function(value, key, object) {\n          if (callback(value, key, object)) {\n            result[key] = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * An alternative to `_.reduce` this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable properties through a callback, with each callback execution\n     * potentially mutating the `accumulator` object. The callback is bound to\n     * `thisArg` and invoked with four arguments; (accumulator, value, key, object).\n     * Callbacks may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var squares = _.transform([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], function(result, num) {\n     *   num *= num;\n     *   if (num % 2) {\n     *     return result.push(num) < 3;\n     *   }\n     * });\n     * // => [1, 9, 25]\n     *\n     * var mapped = _.transform({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n     *   result[key] = num * 3;\n     * });\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     */\n    function transform(object, callback, accumulator, thisArg) {\n      var isArr = isArray(object);\n      if (accumulator == null) {\n        if (isArr) {\n          accumulator = [];\n        } else {\n          var ctor = object && object.constructor,\n              proto = ctor && ctor.prototype;\n\n          accumulator = baseCreate(proto);\n        }\n      }\n      if (callback) {\n        callback = lodash.createCallback(callback, thisArg, 4);\n        (isArr ? forEach : forOwn)(object, function(value, index, object) {\n          return callback(accumulator, value, index, object);\n        });\n      }\n      return accumulator;\n    }\n\n    /**\n     * Creates an array composed of the own enumerable property values of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property values.\n     * @example\n     *\n     * _.values({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => [1, 2, 3] (property order is not guaranteed across environments)\n     */\n    function values(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements from the specified indexes, or keys, of the\n     * `collection`. Indexes may be specified as individual arguments or as arrays\n     * of indexes.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [index] The indexes of `collection`\n     *   to retrieve, specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns a new array of elements corresponding to the\n     *  provided indexes.\n     * @example\n     *\n     * _.at(['a', 'b', 'c', 'd', 'e'], [0, 2, 4]);\n     * // => ['a', 'c', 'e']\n     *\n     * _.at(['fred', 'barney', 'pebbles'], 0, 2);\n     * // => ['fred', 'pebbles']\n     */\n    function at(collection) {\n      var args = arguments,\n          index = -1,\n          props = baseFlatten(args, true, false, 1),\n          length = (args[2] && args[2][args[1]] === collection) ? 1 : props.length,\n          result = Array(length);\n\n      while(++index < length) {\n        result[index] = collection[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * Checks if a given value is present in a collection using strict equality\n     * for comparisons, i.e. `===`. If `fromIndex` is negative, it is used as the\n     * offset from the end of the collection.\n     *\n     * @static\n     * @memberOf _\n     * @alias include\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {*} target The value to check for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {boolean} Returns `true` if the `target` element is found, else `false`.\n     * @example\n     *\n     * _.contains([1, 2, 3], 1);\n     * // => true\n     *\n     * _.contains([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.contains({ 'name': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.contains('pebbles', 'eb');\n     * // => true\n     */\n    function contains(collection, target, fromIndex) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = collection ? collection.length : 0,\n          result = false;\n\n      fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex) || 0;\n      if (isArray(collection)) {\n        result = indexOf(collection, target, fromIndex) > -1;\n      } else if (typeof length == 'number') {\n        result = (isString(collection) ? collection.indexOf(target, fromIndex) : indexOf(collection, target, fromIndex)) > -1;\n      } else {\n        forOwn(collection, function(value) {\n          if (++index >= fromIndex) {\n            return !(result = value === target);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through the callback. The corresponding value\n     * of each key is the number of times the key was returned by the callback.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);\n    });\n\n    /**\n     * Checks if the given callback returns truey value for **all** elements of\n     * a collection. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {boolean} Returns `true` if all elements passed the callback check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes']);\n     * // => false\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.every(characters, 'age');\n     * // => true\n     *\n     * // using \"_.where\" callback shorthand\n     * _.every(characters, { 'age': 36 });\n     * // => false\n     */\n    function every(collection, callback, thisArg) {\n      var result = true;\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if (!(result = !!callback(collection[index], index, collection))) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          return (result = !!callback(value, index, collection));\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Iterates over elements of a collection, returning an array of all elements\n     * the callback returns truey for. The callback is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of elements that passed the callback check.\n     * @example\n     *\n     * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n     * // => [2, 4, 6]\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'blocked': false },\n     *   { 'name': 'fred',   'age': 40, 'blocked': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.filter(characters, 'blocked');\n     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.filter(characters, { 'age': 36 });\n     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n     */\n    function filter(collection, callback, thisArg) {\n      var result = [];\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          if (callback(value, index, collection)) {\n            result.push(value);\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          if (callback(value, index, collection)) {\n            result.push(value);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Iterates over elements of a collection, returning the first element that\n     * the callback returns truey for. The callback is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect, findWhere\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the found element, else `undefined`.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36, 'blocked': false },\n     *   { 'name': 'fred',    'age': 40, 'blocked': true },\n     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }\n     * ];\n     *\n     * _.find(characters, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => { 'name': 'barney', 'age': 36, 'blocked': false }\n     *\n     * // using \"_.where\" callback shorthand\n     * _.find(characters, { 'age': 1 });\n     * // =>  { 'name': 'pebbles', 'age': 1, 'blocked': false }\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.find(characters, 'blocked');\n     * // => { 'name': 'fred', 'age': 40, 'blocked': true }\n     */\n    function find(collection, callback, thisArg) {\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          if (callback(value, index, collection)) {\n            return value;\n          }\n        }\n      } else {\n        var result;\n        forOwn(collection, function(value, index, collection) {\n          if (callback(value, index, collection)) {\n            result = value;\n            return false;\n          }\n        });\n        return result;\n      }\n    }\n\n    /**\n     * This method is like `_.find` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the found element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(num) {\n     *   return num % 2 == 1;\n     * });\n     * // => 3\n     */\n    function findLast(collection, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      forEachRight(collection, function(value, index, collection) {\n        if (callback(value, index, collection)) {\n          result = value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Iterates over elements of a collection, executing the callback for each\n     * element. The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection). Callbacks may exit iteration early by\n     * explicitly returning `false`.\n     *\n     * Note: As with other \"Collections\" methods, objects with a `length` property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');\n     * // => logs each number and returns '1,2,3'\n     *\n     * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });\n     * // => logs each number and returns the object (property order is not guaranteed across environments)\n     */\n    function forEach(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if (callback(collection[index], index, collection) === false) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, callback);\n      }\n      return collection;\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2, 3]).forEachRight(function(num) { console.log(num); }).join(',');\n     * // => logs each number from right to left and returns '3,2,1'\n     */\n    function forEachRight(collection, callback, thisArg) {\n      var length = collection ? collection.length : 0;\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n      if (typeof length == 'number') {\n        while (length--) {\n          if (callback(collection[length], length, collection) === false) {\n            break;\n          }\n        }\n      } else {\n        var props = keys(collection);\n        length = props.length;\n        forOwn(collection, function(value, key, collection) {\n          key = props ? props[--length] : --length;\n          return callback(collection[key], key, collection);\n        });\n      }\n      return collection;\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of a collection through the callback. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of the collection through the given callback. The corresponding\n     * value of each key is the last element responsible for generating the key.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keys = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keys, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keys, function(key) { return String.fromCharCode(key.code); });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(characters, function(key) { this.fromCharCode(key.code); }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method named by `methodName` on each element in the `collection`\n     * returning an array of the results of each invoked method. Additional arguments\n     * will be provided to each invoked method. If `methodName` is a function it\n     * will be invoked for, and `this` bound to, each element in the `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|string} methodName The name of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [arg] Arguments to invoke the method with.\n     * @returns {Array} Returns a new array of the results of each invoked method.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    function invoke(collection, methodName) {\n      var args = slice(arguments, 2),\n          index = -1,\n          isFunc = typeof methodName == 'function',\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      forEach(collection, function(value) {\n        result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an array of values by running each element in the collection\n     * through the callback. The callback is bound to `thisArg` and invoked with\n     * three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of the results of each `callback` execution.\n     * @example\n     *\n     * _.map([1, 2, 3], function(num) { return num * 3; });\n     * // => [3, 6, 9]\n     *\n     * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });\n     * // => [3, 6, 9] (property order is not guaranteed across environments)\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.map(characters, 'name');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      callback = lodash.createCallback(callback, thisArg, 3);\n      if (typeof length == 'number') {\n        var result = Array(length);\n        while (++index < length) {\n          result[index] = callback(collection[index], index, collection);\n        }\n      } else {\n        result = [];\n        forOwn(collection, function(value, key, collection) {\n          result[++index] = callback(value, key, collection);\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the maximum value of a collection. If the collection is empty or\n     * falsey `-Infinity` is returned. If a callback is provided it will be executed\n     * for each value in the collection to generate the criterion by which the value\n     * is ranked. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(characters, function(chr) { return chr.age; });\n     * // => { 'name': 'fred', 'age': 40 };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.max(characters, 'age');\n     * // => { 'name': 'fred', 'age': 40 };\n     */\n    function max(collection, callback, thisArg) {\n      var computed = -Infinity,\n          result = computed;\n\n      // allows working with functions like `_.map` without using\n      // their `index` argument as a callback\n      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n        callback = null;\n      }\n      if (callback == null && isArray(collection)) {\n        var index = -1,\n            length = collection.length;\n\n        while (++index < length) {\n          var value = collection[index];\n          if (value > result) {\n            result = value;\n          }\n        }\n      } else {\n        callback = (callback == null && isString(collection))\n          ? charAtCallback\n          : lodash.createCallback(callback, thisArg, 3);\n\n        forEach(collection, function(value, index, collection) {\n          var current = callback(value, index, collection);\n          if (current > computed) {\n            computed = current;\n            result = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the minimum value of a collection. If the collection is empty or\n     * falsey `Infinity` is returned. If a callback is provided it will be executed\n     * for each value in the collection to generate the criterion by which the value\n     * is ranked. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(characters, function(chr) { return chr.age; });\n     * // => { 'name': 'barney', 'age': 36 };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.min(characters, 'age');\n     * // => { 'name': 'barney', 'age': 36 };\n     */\n    function min(collection, callback, thisArg) {\n      var computed = Infinity,\n          result = computed;\n\n      // allows working with functions like `_.map` without using\n      // their `index` argument as a callback\n      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n        callback = null;\n      }\n      if (callback == null && isArray(collection)) {\n        var index = -1,\n            length = collection.length;\n\n        while (++index < length) {\n          var value = collection[index];\n          if (value < result) {\n            result = value;\n          }\n        }\n      } else {\n        callback = (callback == null && isString(collection))\n          ? charAtCallback\n          : lodash.createCallback(callback, thisArg, 3);\n\n        forEach(collection, function(value, index, collection) {\n          var current = callback(value, index, collection);\n          if (current < computed) {\n            computed = current;\n            result = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the value of a specified property from all elements in the collection.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string} property The name of the property to pluck.\n     * @returns {Array} Returns a new array of property values.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(characters, 'name');\n     * // => ['barney', 'fred']\n     */\n    var pluck = map;\n\n    /**\n     * Reduces a collection to a value which is the accumulated result of running\n     * each element in the collection through the callback, where each successive\n     * callback execution consumes the return value of the previous execution. If\n     * `accumulator` is not provided the first element of the collection will be\n     * used as the initial `accumulator` value. The callback is bound to `thisArg`\n     * and invoked with four arguments; (accumulator, value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [accumulator] Initial value of the accumulator.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var sum = _.reduce([1, 2, 3], function(sum, num) {\n     *   return sum + num;\n     * });\n     * // => 6\n     *\n     * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n     *   result[key] = num * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     */\n    function reduce(collection, callback, accumulator, thisArg) {\n      if (!collection) return accumulator;\n      var noaccum = arguments.length < 3;\n      callback = lodash.createCallback(callback, thisArg, 4);\n\n      var index = -1,\n          length = collection.length;\n\n      if (typeof length == 'number') {\n        if (noaccum) {\n          accumulator = collection[++index];\n        }\n        while (++index < length) {\n          accumulator = callback(accumulator, collection[index], index, collection);\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          accumulator = noaccum\n            ? (noaccum = false, value)\n            : callback(accumulator, value, index, collection)\n        });\n      }\n      return accumulator;\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [accumulator] Initial value of the accumulator.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var list = [[0, 1], [2, 3], [4, 5]];\n     * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, callback, accumulator, thisArg) {\n      var noaccum = arguments.length < 3;\n      callback = lodash.createCallback(callback, thisArg, 4);\n      forEachRight(collection, function(value, index, collection) {\n        accumulator = noaccum\n          ? (noaccum = false, value)\n          : callback(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The opposite of `_.filter` this method returns the elements of a\n     * collection that the callback does **not** return truey for.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of elements that failed the callback check.\n     * @example\n     *\n     * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n     * // => [1, 3, 5]\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'blocked': false },\n     *   { 'name': 'fred',   'age': 40, 'blocked': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.reject(characters, 'blocked');\n     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.reject(characters, { 'age': 36 });\n     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n     */\n    function reject(collection, callback, thisArg) {\n      callback = lodash.createCallback(callback, thisArg, 3);\n      return filter(collection, function(value, index, collection) {\n        return !callback(value, index, collection);\n      });\n    }\n\n    /**\n     * Retrieves a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Allows working with functions like `_.map`\n     *  without using their `index` arguments as `n`.\n     * @returns {Array} Returns the random sample(s) of `collection`.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (collection && typeof collection.length != 'number') {\n        collection = values(collection);\n      }\n      if (n == null || guard) {\n        return collection ? collection[baseRandom(0, collection.length - 1)] : undefined;\n      }\n      var result = shuffle(collection);\n      result.length = nativeMin(nativeMax(0, n), result.length);\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the Fisher-Yates\n     * shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns a new shuffled collection.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4, 5, 6]);\n     * // => [4, 1, 6, 3, 5, 2]\n     */\n    function shuffle(collection) {\n      var index = -1,\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      forEach(collection, function(value) {\n        var rand = baseRandom(0, ++index);\n        result[index] = result[rand];\n        result[rand] = value;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the size of the `collection` by returning `collection.length` for arrays\n     * and array-like objects or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns `collection.length` or number of own enumerable properties.\n     * @example\n     *\n     * _.size([1, 2]);\n     * // => 2\n     *\n     * _.size({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => 3\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? collection.length : 0;\n      return typeof length == 'number' ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if the callback returns a truey value for **any** element of a\n     * collection. The function returns as soon as it finds a passing value and\n     * does not iterate over the entire collection. The callback is bound to\n     * `thisArg` and invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {boolean} Returns `true` if any element passed the callback check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'blocked': false },\n     *   { 'name': 'fred',   'age': 40, 'blocked': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.some(characters, 'blocked');\n     * // => true\n     *\n     * // using \"_.where\" callback shorthand\n     * _.some(characters, { 'age': 1 });\n     * // => false\n     */\n    function some(collection, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if ((result = callback(collection[index], index, collection))) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          return !(result = callback(value, index, collection));\n        });\n      }\n      return !!result;\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through the callback. This method\n     * performs a stable sort, that is, it will preserve the original sort order\n     * of equal elements. The callback is bound to `thisArg` and invoked with\n     * three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an array of property names is provided for `callback` the collection\n     * will be sorted by each property value.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of sorted elements.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);\n     * // => [3, 1, 2]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36 },\n     *   { 'name': 'fred',    'age': 40 },\n     *   { 'name': 'barney',  'age': 26 },\n     *   { 'name': 'fred',    'age': 30 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.map(_.sortBy(characters, 'age'), _.values);\n     * // => [['barney', 26], ['fred', 30], ['barney', 36], ['fred', 40]]\n     *\n     * // sorting by multiple properties\n     * _.map(_.sortBy(characters, ['name', 'age']), _.values);\n     * // = > [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]\n     */\n    function sortBy(collection, callback, thisArg) {\n      var index = -1,\n          isArr = isArray(callback),\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      if (!isArr) {\n        callback = lodash.createCallback(callback, thisArg, 3);\n      }\n      forEach(collection, function(value, key, collection) {\n        var object = result[++index] = getObject();\n        if (isArr) {\n          object.criteria = map(callback, function(key) { return value[key]; });\n        } else {\n          (object.criteria = getArray())[0] = callback(value, key, collection);\n        }\n        object.index = index;\n        object.value = value;\n      });\n\n      length = result.length;\n      result.sort(compareAscending);\n      while (length--) {\n        var object = result[length];\n        result[length] = object.value;\n        if (!isArr) {\n          releaseArray(object.criteria);\n        }\n        releaseObject(object);\n      }\n      return result;\n    }\n\n    /**\n     * Converts the `collection` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to convert.\n     * @returns {Array} Returns the new converted array.\n     * @example\n     *\n     * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);\n     * // => [2, 3, 4]\n     */\n    function toArray(collection) {\n      if (collection && typeof collection.length == 'number') {\n        return slice(collection);\n      }\n      return values(collection);\n    }\n\n    /**\n     * Performs a deep comparison of each element in a `collection` to the given\n     * `properties` object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Object} props The object of property values to filter by.\n     * @returns {Array} Returns a new array of elements that have the given properties.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'pets': ['hoppy'] },\n     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.where(characters, { 'age': 36 });\n     * // => [{ 'name': 'barney', 'age': 36, 'pets': ['hoppy'] }]\n     *\n     * _.where(characters, { 'pets': ['dino'] });\n     * // => [{ 'name': 'fred', 'age': 40, 'pets': ['baby puss', 'dino'] }]\n     */\n    var where = filter;\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are all falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns a new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all values of the provided arrays using strict\n     * equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns a new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);\n     * // => [1, 3, 4]\n     */\n    function difference(array) {\n      return baseDifference(array, baseFlatten(arguments, true, true, 1));\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element that passes the callback check, instead of the element itself.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36, 'blocked': false },\n     *   { 'name': 'fred',    'age': 40, 'blocked': true },\n     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }\n     * ];\n     *\n     * _.findIndex(characters, function(chr) {\n     *   return chr.age < 20;\n     * });\n     * // => 2\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findIndex(characters, { 'age': 36 });\n     * // => 0\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findIndex(characters, 'blocked');\n     * // => 1\n     */\n    function findIndex(array, callback, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0;\n\n      callback = lodash.createCallback(callback, thisArg, 3);\n      while (++index < length) {\n        if (callback(array[index], index, array)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36, 'blocked': true },\n     *   { 'name': 'fred',    'age': 40, 'blocked': false },\n     *   { 'name': 'pebbles', 'age': 1,  'blocked': true }\n     * ];\n     *\n     * _.findLastIndex(characters, function(chr) {\n     *   return chr.age > 30;\n     * });\n     * // => 1\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findLastIndex(characters, { 'age': 36 });\n     * // => 0\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findLastIndex(characters, 'blocked');\n     * // => 2\n     */\n    function findLastIndex(array, callback, thisArg) {\n      var length = array ? array.length : 0;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      while (length--) {\n        if (callback(array[length], length, array)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Gets the first element or first `n` elements of an array. If a callback\n     * is provided elements at the beginning of the array are returned as long\n     * as the callback returns truey. The callback is bound to `thisArg` and\n     * invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head, take\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback] The function called\n     *  per element or the number of elements to return. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the first element(s) of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.first([1, 2, 3], function(num) {\n     *   return num < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': false, 'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.first(characters, 'blocked');\n     * // => [{ 'name': 'barney', 'blocked': true, 'employer': 'slate' }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.pluck(_.first(characters, { 'employer': 'slate' }), 'name');\n     * // => ['barney', 'fred']\n     */\n    function first(array, callback, thisArg) {\n      var n = 0,\n          length = array ? array.length : 0;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = -1;\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (++index < length && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = callback;\n        if (n == null || thisArg) {\n          return array ? array[0] : undefined;\n        }\n      }\n      return slice(array, 0, nativeMin(nativeMax(0, n), length));\n    }\n\n    /**\n     * Flattens a nested array (the nesting can be to any depth). If `isShallow`\n     * is truey, the array will only be flattened a single level. If a callback\n     * is provided each element of the array is passed through the callback before\n     * flattening. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2], [3, [[4]]]]);\n     * // => [1, 2, 3, 4];\n     *\n     * _.flatten([1, [2], [3, [[4]]]], true);\n     * // => [1, 2, 3, [[4]]];\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 30, 'pets': ['hoppy'] },\n     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.flatten(characters, 'pets');\n     * // => ['hoppy', 'baby puss', 'dino']\n     */\n    function flatten(array, isShallow, callback, thisArg) {\n      // juggle arguments\n      if (typeof isShallow != 'boolean' && isShallow != null) {\n        thisArg = callback;\n        callback = (typeof isShallow != 'function' && thisArg && thisArg[isShallow] === array) ? null : isShallow;\n        isShallow = false;\n      }\n      if (callback != null) {\n        array = map(array, callback, thisArg);\n      }\n      return baseFlatten(array, isShallow);\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found using\n     * strict equality for comparisons, i.e. `===`. If the array is already sorted\n     * providing `true` for `fromIndex` will run a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value or `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 3, 1, 2, 3], 2);\n     * // => 1\n     *\n     * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);\n     * // => 4\n     *\n     * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      if (typeof fromIndex == 'number') {\n        var length = array ? array.length : 0;\n        fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0);\n      } else if (fromIndex) {\n        var index = sortedIndex(array, value);\n        return array[index] === value ? index : -1;\n      }\n      return baseIndexOf(array, value, fromIndex);\n    }\n\n    /**\n     * Gets all but the last element or last `n` elements of an array. If a\n     * callback is provided elements at the end of the array are excluded from\n     * the result as long as the callback returns truey. The callback is bound\n     * to `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback=1] The function called\n     *  per element or the number of elements to exclude. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.initial([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.initial([1, 2, 3], function(num) {\n     *   return num > 1;\n     * });\n     * // => [1]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.initial(characters, 'blocked');\n     * // => [{ 'name': 'barney',  'blocked': false, 'employer': 'slate' }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.pluck(_.initial(characters, { 'employer': 'na' }), 'name');\n     * // => ['barney', 'fred']\n     */\n    function initial(array, callback, thisArg) {\n      var n = 0,\n          length = array ? array.length : 0;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = length;\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (index-- && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = (callback == null || thisArg) ? 1 : callback || n;\n      }\n      return slice(array, 0, nativeMin(nativeMax(0, length - n), length));\n    }\n\n    /**\n     * Creates an array of unique values present in all provided arrays using\n     * strict equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {...Array} [array] The arrays to inspect.\n     * @returns {Array} Returns an array of shared values.\n     * @example\n     *\n     * _.intersection([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n     * // => [1, 2]\n     */\n    function intersection() {\n      var args = [],\n          argsIndex = -1,\n          argsLength = arguments.length,\n          caches = getArray(),\n          indexOf = getIndexOf(),\n          trustIndexOf = indexOf === baseIndexOf,\n          seen = getArray();\n\n      while (++argsIndex < argsLength) {\n        var value = arguments[argsIndex];\n        if (isArray(value) || isArguments(value)) {\n          args.push(value);\n          caches.push(trustIndexOf && value.length >= largeArraySize &&\n            createCache(argsIndex ? args[argsIndex] : seen));\n        }\n      }\n      var array = args[0],\n          index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      outer:\n      while (++index < length) {\n        var cache = caches[0];\n        value = array[index];\n\n        if ((cache ? cacheIndexOf(cache, value) : indexOf(seen, value)) < 0) {\n          argsIndex = argsLength;\n          (cache || seen).push(value);\n          while (--argsIndex) {\n            cache = caches[argsIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value)) < 0) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n      }\n      while (argsLength--) {\n        cache = caches[argsLength];\n        if (cache) {\n          releaseObject(cache);\n        }\n      }\n      releaseArray(caches);\n      releaseArray(seen);\n      return result;\n    }\n\n    /**\n     * Gets the last element or last `n` elements of an array. If a callback is\n     * provided elements at the end of the array are returned as long as the\n     * callback returns truey. The callback is bound to `thisArg` and invoked\n     * with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback] The function called\n     *  per element or the number of elements to return. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the last element(s) of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     *\n     * _.last([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.last([1, 2, 3], function(num) {\n     *   return num > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.pluck(_.last(characters, 'blocked'), 'name');\n     * // => ['fred', 'pebbles']\n     *\n     * // using \"_.where\" callback shorthand\n     * _.last(characters, { 'employer': 'na' });\n     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n     */\n    function last(array, callback, thisArg) {\n      var n = 0,\n          length = array ? array.length : 0;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = length;\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (index-- && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = callback;\n        if (n == null || thisArg) {\n          return array ? array[length - 1] : undefined;\n        }\n      }\n      return slice(array, nativeMax(0, length - n));\n    }\n\n    /**\n     * Gets the index at which the last occurrence of `value` is found using strict\n     * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n     * as the offset from the end of the collection.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value or `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);\n     * // => 4\n     *\n     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var index = array ? array.length : 0;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from the given array using strict equality for\n     * comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to modify.\n     * @param {...*} [value] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull(array) {\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = args.length,\n          length = array ? array.length : 0;\n\n      while (++argsIndex < argsLength) {\n        var index = -1,\n            value = args[argsIndex];\n        while (++index < length) {\n          if (array[index] === value) {\n            splice.call(array, index--, 1);\n            length--;\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to but not including `end`. If `start` is less than `stop` a\n     * zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns a new range array.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      start = +start || 0;\n      step = typeof step == 'number' ? step : (+step || 1);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      }\n      // use `Array(length)` so engines like Chakra and V8 avoid slower modes\n      // http://youtu.be/XAqIpGU8ZZk#t=17m25s\n      var index = -1,\n          length = nativeMax(0, ceil((end - start) / (step || 1))),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Removes all elements from an array that the callback returns truey for\n     * and returns an array of removed elements. The callback is bound to `thisArg`\n     * and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4, 5, 6];\n     * var evens = _.remove(array, function(num) { return num % 2 == 0; });\n     *\n     * console.log(array);\n     * // => [1, 3, 5]\n     *\n     * console.log(evens);\n     * // => [2, 4, 6]\n     */\n    function remove(array, callback, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      callback = lodash.createCallback(callback, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (callback(value, index, array)) {\n          result.push(value);\n          splice.call(array, index--, 1);\n          length--;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.initial` this method gets all but the first element or\n     * first `n` elements of an array. If a callback function is provided elements\n     * at the beginning of the array are excluded from the result as long as the\n     * callback returns truey. The callback is bound to `thisArg` and invoked\n     * with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias drop, tail\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback=1] The function called\n     *  per element or the number of elements to exclude. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.rest([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.rest([1, 2, 3], function(num) {\n     *   return num < 3;\n     * });\n     * // => [3]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': false,  'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true, 'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.pluck(_.rest(characters, 'blocked'), 'name');\n     * // => ['fred', 'pebbles']\n     *\n     * // using \"_.where\" callback shorthand\n     * _.rest(characters, { 'employer': 'slate' });\n     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n     */\n    function rest(array, callback, thisArg) {\n      if (typeof callback != 'number' && callback != null) {\n        var n = 0,\n            index = -1,\n            length = array ? array.length : 0;\n\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (++index < length && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);\n      }\n      return slice(array, n);\n    }\n\n    /**\n     * Uses a binary search to determine the smallest index at which a value\n     * should be inserted into a given sorted array in order to maintain the sort\n     * order of the array. If a callback is provided it will be executed for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * callback is bound to `thisArg` and invoked with one argument; (value).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([20, 30, 50], 40);\n     * // => 2\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 2\n     *\n     * var dict = {\n     *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }\n     * };\n     *\n     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n     *   return dict.wordToNumber[word];\n     * });\n     * // => 2\n     *\n     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n     *   return this.wordToNumber[word];\n     * }, dict);\n     * // => 2\n     */\n    function sortedIndex(array, value, callback, thisArg) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      // explicitly reference `identity` for better inlining in Firefox\n      callback = callback ? lodash.createCallback(callback, thisArg, 1) : identity;\n      value = callback(value);\n\n      while (low < high) {\n        var mid = (low + high) >>> 1;\n        (callback(array[mid]) < value)\n          ? low = mid + 1\n          : high = mid;\n      }\n      return low;\n    }\n\n    /**\n     * Creates an array of unique values, in order, of the provided arrays using\n     * strict equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {...Array} [array] The arrays to inspect.\n     * @returns {Array} Returns an array of combined values.\n     * @example\n     *\n     * _.union([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n     * // => [1, 2, 3, 5, 4]\n     */\n    function union() {\n      return baseUniq(baseFlatten(arguments, true, true));\n    }\n\n    /**\n     * Creates a duplicate-value-free version of an array using strict equality\n     * for comparisons, i.e. `===`. If the array is sorted, providing\n     * `true` for `isSorted` will use a faster algorithm. If a callback is provided\n     * each element of `array` is passed through the callback before uniqueness\n     * is computed. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([1, 2, 1, 3, 1]);\n     * // => [1, 2, 3]\n     *\n     * _.uniq([1, 1, 2, 2, 3], true);\n     * // => [1, 2, 3]\n     *\n     * _.uniq(['A', 'b', 'C', 'a', 'B', 'c'], function(letter) { return letter.toLowerCase(); });\n     * // => ['A', 'b', 'C']\n     *\n     * _.uniq([1, 2.5, 3, 1.5, 2, 3.5], function(num) { return this.floor(num); }, Math);\n     * // => [1, 2.5, 3]\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, callback, thisArg) {\n      // juggle arguments\n      if (typeof isSorted != 'boolean' && isSorted != null) {\n        thisArg = callback;\n        callback = (typeof isSorted != 'function' && thisArg && thisArg[isSorted] === array) ? null : isSorted;\n        isSorted = false;\n      }\n      if (callback != null) {\n        callback = lodash.createCallback(callback, thisArg, 3);\n      }\n      return baseUniq(array, isSorted, callback);\n    }\n\n    /**\n     * Creates an array excluding all provided values using strict equality for\n     * comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to filter.\n     * @param {...*} [value] The values to exclude.\n     * @returns {Array} Returns a new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);\n     * // => [2, 3, 4]\n     */\n    function without(array) {\n      return baseDifference(array, slice(arguments, 1));\n    }\n\n    /**\n     * Creates an array that is the symmetric difference of the provided arrays.\n     * See http://en.wikipedia.org/wiki/Symmetric_difference.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {...Array} [array] The arrays to inspect.\n     * @returns {Array} Returns an array of values.\n     * @example\n     *\n     * _.xor([1, 2, 3], [5, 2, 1, 4]);\n     * // => [3, 5, 4]\n     *\n     * _.xor([1, 2, 5], [2, 3, 5], [3, 4, 5]);\n     * // => [1, 4, 5]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArray(array) || isArguments(array)) {\n          var result = result\n            ? baseUniq(baseDifference(result, array).concat(baseDifference(array, result)))\n            : array;\n        }\n      }\n      return result || [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second\n     * elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @alias unzip\n     * @category Arrays\n     * @param {...Array} [array] Arrays to process.\n     * @returns {Array} Returns a new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    function zip() {\n      var array = arguments.length > 1 ? arguments : arguments[0],\n          index = -1,\n          length = array ? max(pluck(array, 'length')) : 0,\n          result = Array(length < 0 ? 0 : length);\n\n      while (++index < length) {\n        result[index] = pluck(array, index);\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed from arrays of `keys` and `values`. Provide\n     * either a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`\n     * or two arrays, one of `keys` and one of corresponding `values`.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Arrays\n     * @param {Array} keys The array of keys.\n     * @param {Array} [values=[]] The array of values.\n     * @returns {Object} Returns an object composed of the given keys and\n     *  corresponding values.\n     * @example\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(keys, values) {\n      var index = -1,\n          length = keys ? keys.length : 0,\n          result = {};\n\n      if (!values && length && !isArray(keys[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = keys[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a function that executes `func`, with  the `this` binding and\n     * arguments of the created function, only after being called `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {number} n The number of times the function must be called before\n     *  `func` is executed.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('Done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'Done saving!', after all saves have completed\n     */\n    function after(n, func) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with the `this`\n     * binding of `thisArg` and prepends any additional `bind` arguments to those\n     * provided to the bound function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var func = function(greeting) {\n     *   return greeting + ' ' + this.name;\n     * };\n     *\n     * func = _.bind(func, { 'name': 'fred' }, 'hi');\n     * func();\n     * // => 'hi fred'\n     */\n    function bind(func, thisArg) {\n      return arguments.length > 2\n        ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n        : createWrapper(func, 1, null, null, thisArg);\n    }\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all the function properties\n     * of `object` will be bound.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...string} [methodName] The object method names to\n     *  bind, specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() { console.log('clicked ' + this.label); }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs', when the button is clicked\n     */\n    function bindAll(object) {\n      var funcs = arguments.length > 1 ? baseFlatten(arguments, true, false, 1) : functions(object),\n          index = -1,\n          length = funcs.length;\n\n      while (++index < length) {\n        var key = funcs[index];\n        object[key] = createWrapper(object[key], 1, null, null, object);\n      }\n      return object;\n    }\n\n    /**\n     * Creates a function that, when called, invokes the method at `object[key]`\n     * and prepends any additional `bindKey` arguments to those provided to the bound\n     * function. This method differs from `_.bind` by allowing bound functions to\n     * reference methods that will be redefined or don't yet exist.\n     * See http://michaux.ca/articles/lazy-function-definition-pattern.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'name': 'fred',\n     *   'greet': function(greeting) {\n     *     return greeting + ' ' + this.name;\n     *   }\n     * };\n     *\n     * var func = _.bindKey(object, 'greet', 'hi');\n     * func();\n     * // => 'hi fred'\n     *\n     * object.greet = function(greeting) {\n     *   return greeting + 'ya ' + this.name + '!';\n     * };\n     *\n     * func();\n     * // => 'hiya fred!'\n     */\n    function bindKey(object, key) {\n      return arguments.length > 2\n        ? createWrapper(key, 19, slice(arguments, 2), null, object)\n        : createWrapper(key, 3, null, null, object);\n    }\n\n    /**\n     * Creates a function that is the composition of the provided functions,\n     * where each function consumes the return value of the function that follows.\n     * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.\n     * Each function is executed with the `this` binding of the composed function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {...Function} [func] Functions to compose.\n     * @returns {Function} Returns the new composed function.\n     * @example\n     *\n     * var realNameMap = {\n     *   'pebbles': 'penelope'\n     * };\n     *\n     * var format = function(name) {\n     *   name = realNameMap[name.toLowerCase()] || name;\n     *   return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();\n     * };\n     *\n     * var greet = function(formatted) {\n     *   return 'Hiya ' + formatted + '!';\n     * };\n     *\n     * var welcome = _.compose(greet, format);\n     * welcome('pebbles');\n     * // => 'Hiya Penelope!'\n     */\n    function compose() {\n      var funcs = arguments,\n          length = funcs.length;\n\n      while (length--) {\n        if (!isFunction(funcs[length])) {\n          throw new TypeError;\n        }\n      }\n      return function() {\n        var args = arguments,\n            length = funcs.length;\n\n        while (length--) {\n          args = [funcs[length].apply(this, args)];\n        }\n        return args[0];\n      };\n    }\n\n    /**\n     * Creates a function which accepts one or more arguments of `func` that when\n     * invoked either executes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` can be specified\n     * if `func.length` is not sufficient.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var curried = _.curry(function(a, b, c) {\n     *   console.log(a + b + c);\n     * });\n     *\n     * curried(1)(2)(3);\n     * // => 6\n     *\n     * curried(1, 2)(3);\n     * // => 6\n     *\n     * curried(1, 2, 3);\n     * // => 6\n     */\n    function curry(func, arity) {\n      arity = typeof arity == 'number' ? arity : (+arity || func.length);\n      return createWrapper(func, 4, null, null, null, arity);\n    }\n\n    /**\n     * Creates a function that will delay the execution of `func` until after\n     * `wait` milliseconds have elapsed since the last time it was invoked.\n     * Provide an options object to indicate that `func` should be invoked on\n     * the leading and/or trailing edge of the `wait` timeout. Subsequent calls\n     * to the debounced function will return the result of the last `func` call.\n     *\n     * Note: If `leading` and `trailing` options are `true` `func` will be called\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to debounce.\n     * @param {number} wait The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify execution on the leading edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be delayed before it's called.\n     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * var lazyLayout = _.debounce(calculateLayout, 150);\n     * jQuery(window).on('resize', lazyLayout);\n     *\n     * // execute `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * });\n     *\n     * // ensure `batchLog` is executed once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * source.addEventListener('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }, false);\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      wait = nativeMax(0, wait) || 0;\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = options.leading;\n        maxWait = 'maxWait' in options && (nativeMax(wait, options.maxWait) || 0);\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n      var delayed = function() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0) {\n          if (maxTimeoutId) {\n            clearTimeout(maxTimeoutId);\n          }\n          var isCalled = trailingCall;\n          maxTimeoutId = timeoutId = trailingCall = undefined;\n          if (isCalled) {\n            lastCalled = now();\n            result = func.apply(thisArg, args);\n            if (!timeoutId && !maxTimeoutId) {\n              args = thisArg = null;\n            }\n          }\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      };\n\n      var maxDelayed = function() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (trailing || (maxWait !== wait)) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      };\n\n      return function() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Defers executing the `func` function until the current call stack has cleared.\n     * Additional arguments will be provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to defer.\n     * @param {...*} [arg] Arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) { console.log(text); }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    function defer(func) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      var args = slice(arguments, 1);\n      return setTimeout(function() { func.apply(undefined, args); }, 1);\n    }\n\n    /**\n     * Executes the `func` function after `wait` milliseconds. Additional arguments\n     * will be provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay execution.\n     * @param {...*} [arg] Arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) { console.log(text); }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    function delay(func, wait) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      var args = slice(arguments, 2);\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it will be used to determine the cache key for storing the result\n     * based on the arguments provided to the memoized function. By default, the\n     * first argument provided to the memoized function is used as the cache key.\n     * The `func` is executed with the `this` binding of the memoized function.\n     * The result cache is exposed as the `cache` property on the memoized function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] A function used to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var fibonacci = _.memoize(function(n) {\n     *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);\n     * });\n     *\n     * fibonacci(9)\n     * // => 34\n     *\n     * var data = {\n     *   'fred': { 'name': 'fred', 'age': 40 },\n     *   'pebbles': { 'name': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // modifying the result cache\n     * var get = _.memoize(function(name) { return data[name]; }, _.identity);\n     * get('pebbles');\n     * // => { 'name': 'pebbles', 'age': 1 }\n     *\n     * get.cache.pebbles.name = 'penelope';\n     * get('pebbles');\n     * // => { 'name': 'penelope', 'age': 1 }\n     */\n    function memoize(func, resolver) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      var memoized = function() {\n        var cache = memoized.cache,\n            key = resolver ? resolver.apply(this, arguments) : keyPrefix + arguments[0];\n\n        return hasOwnProperty.call(cache, key)\n          ? cache[key]\n          : (cache[key] = func.apply(this, arguments));\n      }\n      memoized.cache = {};\n      return memoized;\n    }\n\n    /**\n     * Creates a function that is restricted to execute `func` once. Repeat calls to\n     * the function will return the value of the first call. The `func` is executed\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` executes `createApplication` once\n     */\n    function once(func) {\n      var ran,\n          result;\n\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      return function() {\n        if (ran) {\n          return result;\n        }\n        ran = true;\n        result = func.apply(this, arguments);\n\n        // clear the `func` variable so the function may be garbage collected\n        func = null;\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with any additional\n     * `partial` arguments prepended to those provided to the new function. This\n     * method is similar to `_.bind` except it does **not** alter the `this` binding.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) { return greeting + ' ' + name; };\n     * var hi = _.partial(greet, 'hi');\n     * hi('fred');\n     * // => 'hi fred'\n     */\n    function partial(func) {\n      return createWrapper(func, 16, slice(arguments, 1));\n    }\n\n    /**\n     * This method is like `_.partial` except that `partial` arguments are\n     * appended to those provided to the new function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var defaultsDeep = _.partialRight(_.merge, _.defaults);\n     *\n     * var options = {\n     *   'variable': 'data',\n     *   'imports': { 'jq': $ }\n     * };\n     *\n     * defaultsDeep(options, _.templateSettings);\n     *\n     * options.variable\n     * // => 'data'\n     *\n     * options.imports\n     * // => { '_': _, 'jq': $ }\n     */\n    function partialRight(func) {\n      return createWrapper(func, 32, null, slice(arguments, 1));\n    }\n\n    /**\n     * Creates a function that, when executed, will only call the `func` function\n     * at most once per every `wait` milliseconds. Provide an options object to\n     * indicate that `func` should be invoked on the leading and/or trailing edge\n     * of the `wait` timeout. Subsequent calls to the throttled function will\n     * return the result of the last `func` call.\n     *\n     * Note: If `leading` and `trailing` options are `true` `func` will be called\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to throttle.\n     * @param {number} wait The number of milliseconds to throttle executions to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify execution on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * var throttled = _.throttle(updatePosition, 100);\n     * jQuery(window).on('scroll', throttled);\n     *\n     * // execute `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? options.leading : leading;\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n      debounceOptions.leading = leading;\n      debounceOptions.maxWait = wait;\n      debounceOptions.trailing = trailing;\n\n      return debounce(func, wait, debounceOptions);\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Additional arguments provided to the function are appended\n     * to those provided to the wrapper function. The wrapper is executed with\n     * the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('Fred, Wilma, & Pebbles');\n     * // => '<p>Fred, Wilma, &amp; Pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return createWrapper(wrapper, 16, [value]);\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * var getter = _.constant(object);\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Produces a callback bound to an optional `thisArg`. If `func` is a property\n     * name the created callback will return the property value for a given element.\n     * If `func` is an object the created callback will return `true` for elements\n     * that contain the equivalent object properties, otherwise it will return `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {*} [func=identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of the created callback.\n     * @param {number} [argCount] The number of arguments the callback accepts.\n     * @returns {Function} Returns a callback function.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);\n     *   return !match ? func(callback, thisArg) : function(object) {\n     *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(characters, 'age__gt38');\n     * // => [{ 'name': 'fred', 'age': 40 }]\n     */\n    function createCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (func == null || type == 'function') {\n        return baseCreateCallback(func, thisArg, argCount);\n      }\n      // handle \"_.pluck\" style callback shorthands\n      if (type != 'object') {\n        return property(func);\n      }\n      var props = keys(func),\n          key = props[0],\n          a = func[key];\n\n      // handle \"_.where\" style callback shorthands\n      if (props.length == 1 && a === a && !isObject(a)) {\n        // fast path the common case of providing an object with a single\n        // property containing a primitive value\n        return function(object) {\n          var b = object[key];\n          return a === b && (a !== 0 || (1 / a == 1 / b));\n        };\n      }\n      return function(object) {\n        var length = props.length,\n            result = false;\n\n        while (length--) {\n          if (!(result = baseIsEqual(object[props[length]], func[props[length]], null, true))) {\n            break;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Converts the characters `&`, `<`, `>`, `\"`, and `'` in `string` to their\n     * corresponding HTML entities.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} string The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('Fred, Wilma, & Pebbles');\n     * // => 'Fred, Wilma, &amp; Pebbles'\n     */\n    function escape(string) {\n      return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Adds function properties of a source object to the destination object.\n     * If `object` is a function methods will be added to its prototype as well.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Function|Object} [object=lodash] object The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added are chainable.\n     * @example\n     *\n     * function capitalize(string) {\n     *   return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n     * }\n     *\n     * _.mixin({ 'capitalize': capitalize });\n     * _.capitalize('fred');\n     * // => 'Fred'\n     *\n     * _('fred').capitalize().value();\n     * // => 'Fred'\n     *\n     * _.mixin({ 'capitalize': capitalize }, { 'chain': false });\n     * _('fred').capitalize();\n     * // => 'Fred'\n     */\n    function mixin(object, source, options) {\n      var chain = true,\n          methodNames = source && functions(source);\n\n      if (!source || (!options && !methodNames.length)) {\n        if (options == null) {\n          options = source;\n        }\n        ctor = lodashWrapper;\n        source = object;\n        object = lodash;\n        methodNames = functions(source);\n      }\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      var ctor = object,\n          isFunc = isFunction(ctor);\n\n      forEach(methodNames, function(methodName) {\n        var func = object[methodName] = source[methodName];\n        if (isFunc) {\n          ctor.prototype[methodName] = function() {\n            var chainAll = this.__chain__,\n                value = this.__wrapped__,\n                args = [value];\n\n            push.apply(args, arguments);\n            var result = func.apply(object, args);\n            if (chain || chainAll) {\n              if (value === result && isObject(result)) {\n                return this;\n              }\n              result = new ctor(result);\n              result.__chain__ = chainAll;\n            }\n            return result;\n          };\n        }\n      });\n    }\n\n    /**\n     * Reverts the '_' variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // no operation performed\n    }\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @example\n     *\n     * var stamp = _.now();\n     * _.defer(function() { console.log(_.now() - stamp); });\n     * // => logs the number of milliseconds it took for the deferred function to be called\n     */\n    var now = isNative(now = Date.now) && now || function() {\n      return new Date().getTime();\n    };\n\n    /**\n     * Converts the given value into an integer of the specified radix.\n     * If `radix` is `undefined` or `0` a `radix` of `10` is used unless the\n     * `value` is a hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * Note: This method avoids differences in native ES3 and ES5 `parseInt`\n     * implementations. See http://es5.github.io/#E.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} value The value to parse.\n     * @param {number} [radix] The radix used to interpret the value to parse.\n     * @returns {number} Returns the new integer value.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     */\n    var parseInt = nativeParseInt(whitespace + '08') == 8 ? nativeParseInt : function(value, radix) {\n      // Firefox < 21 and Opera < 15 follow the ES3 specified implementation of `parseInt`\n      return nativeParseInt(isString(value) ? value.replace(reLeadingSpacesAndZeros, '') : value, radix || 0);\n    };\n\n    /**\n     * Creates a \"_.pluck\" style function, which returns the `key` value of a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} key The name of the property to retrieve.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'fred',   'age': 40 },\n     *   { 'name': 'barney', 'age': 36 }\n     * ];\n     *\n     * var getName = _.property('name');\n     *\n     * _.map(characters, getName);\n     * // => ['barney', 'fred']\n     *\n     * _.sortBy(characters, getName);\n     * // => [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred',   'age': 40 }]\n     */\n    function property(key) {\n      return function(object) {\n        return object[key];\n      };\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number will be\n     * returned. If `floating` is truey or either `min` or `max` are floats a\n     * floating-point number will be returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating=false] Specify returning a floating-point number.\n     * @returns {number} Returns a random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (typeof min == 'boolean' && noMax) {\n          floating = min;\n          min = 1;\n        }\n        else if (!noMax && typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand +'').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /**\n     * Resolves the value of property `key` on `object`. If `key` is a function\n     * it will be invoked with the `this` binding of `object` and its result returned,\n     * else the property value is returned. If `object` is falsey then `undefined`\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Object} object The object to inspect.\n     * @param {string} key The name of the property to resolve.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = {\n     *   'cheese': 'crumpets',\n     *   'stuff': function() {\n     *     return 'nonsense';\n     *   }\n     * };\n     *\n     * _.result(object, 'cheese');\n     * // => 'crumpets'\n     *\n     * _.result(object, 'stuff');\n     * // => 'nonsense'\n     */\n    function result(object, key) {\n      if (object) {\n        var value = object[key];\n        return isFunction(value) ? object[key]() : value;\n      }\n    }\n\n    /**\n     * A micro-templating method that handles arbitrary delimiters, preserves\n     * whitespace, and correctly escapes quotes within interpolated code.\n     *\n     * Note: In the development build, `_.template` utilizes sourceURLs for easier\n     * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n     *\n     * For more information on precompiling templates see:\n     * http://lodash.com/custom-builds\n     *\n     * For more information on Chrome extension sandboxes see:\n     * http://developer.chrome.com/stable/extensions/sandboxingEval.html\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} text The template text.\n     * @param {Object} data The data object used to populate the text.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as local variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [variable] The data object variable name.\n     * @returns {Function|string} Returns a compiled function when no `data` object\n     *  is given, else it returns the interpolated text.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= name %>');\n     * compiled({ 'name': 'fred' });\n     * // => 'hello fred'\n     *\n     * // using the \"escape\" delimiter to escape HTML in data property values\n     * _.template('<b><%- value %></b>', { 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to generate HTML\n     * var list = '<% _.forEach(people, function(name) { %><li><%- name %></li><% }); %>';\n     * _.template(list, { 'people': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the ES6 delimiter as an alternative to the default \"interpolate\" delimiter\n     * _.template('hello ${ name }', { 'name': 'pebbles' });\n     * // => 'hello pebbles'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * _.template('<% print(\"hello \" + name); %>!', { 'name': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using a custom template delimiters\n     * _.templateSettings = {\n     *   'interpolate': /{{([\\s\\S]+?)}}/g\n     * };\n     *\n     * _.template('hello {{ name }}!', { 'name': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using the `imports` option to import jQuery\n     * var list = '<% jq.each(people, function(name) { %><li><%- name %></li><% }); %>';\n     * _.template(list, { 'people': ['fred', 'barney'] }, { 'imports': { 'jq': jQuery } });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     *   var __t, __p = '', __e = _.escape;\n     *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';\n     *   return __p;\n     * }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(text, data, options) {\n      // based on John Resig's `tmpl` implementation\n      // http://ejohn.org/blog/javascript-micro-templating/\n      // and Laura Doktorova's doT.js\n      // https://github.com/olado/doT\n      var settings = lodash.templateSettings;\n      text = String(text || '');\n\n      // avoid missing dependencies when `iteratorTemplate` is not defined\n      options = defaults({}, options, settings);\n\n      var imports = defaults({}, options.imports, settings.imports),\n          importsKeys = keys(imports),\n          importsValues = values(imports);\n\n      var isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // compile the regexp to match each delimiter\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      text.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // escape characters that cannot be included in string literals\n        source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // replace delimiters with snippets\n        if (escapeValue) {\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // the JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // if `variable` is not specified, wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain\n      var variable = options.variable,\n          hasVariable = variable;\n\n      if (!hasVariable) {\n        variable = 'obj';\n        source = 'with (' + variable + ') {\\n' + source + '\\n}\\n';\n      }\n      // cleanup code by stripping empty strings\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // frame code as the function body\n      source = 'function(' + variable + ') {\\n' +\n        (hasVariable ? '' : variable + ' || (' + variable + ' = {});\\n') +\n        \"var __t, __p = '', __e = _.escape\" +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      // Use a sourceURL for easier debugging.\n      // http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n      var sourceURL = '\\n/*\\n//# sourceURL=' + (options.sourceURL || '/lodash/template/source[' + (templateCounter++) + ']') + '\\n*/';\n\n      try {\n        var result = Function(importsKeys, 'return ' + source + sourceURL).apply(undefined, importsValues);\n      } catch(e) {\n        e.source = source;\n        throw e;\n      }\n      if (data) {\n        return result(data);\n      }\n      // provide the compiled function's source by its `toString` method, in\n      // supported environments, or the `source` property as a convenience for\n      // inlining compiled templates during the build process\n      result.source = source;\n      return result;\n    }\n\n    /**\n     * Executes the callback `n` times, returning an array of the results\n     * of each callback execution. The callback is bound to `thisArg` and invoked\n     * with one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {number} n The number of times to execute the callback.\n     * @param {Function} callback The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns an array of the results of each `callback` execution.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) { mage.castSpell(n); });\n     * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively\n     *\n     * _.times(3, function(n) { this.cast(n); }, mage);\n     * // => also calls `mage.castSpell(n)` three times\n     */\n    function times(n, callback, thisArg) {\n      n = (n = +n) > -1 ? n : 0;\n      var index = -1,\n          result = Array(n);\n\n      callback = baseCreateCallback(callback, thisArg, 1);\n      while (++index < n) {\n        result[index] = callback(index);\n      }\n      return result;\n    }\n\n    /**\n     * The inverse of `_.escape` this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their\n     * corresponding characters.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} string The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('Fred, Barney &amp; Pebbles');\n     * // => 'Fred, Barney & Pebbles'\n     */\n    function unescape(string) {\n      return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID will be appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return String(prefix == null ? '' : prefix) + id;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps the given value with explicit\n     * method chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chaining\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36 },\n     *   { 'name': 'fred',    'age': 40 },\n     *   { 'name': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(characters)\n     *     .sortBy('age')\n     *     .map(function(chr) { return chr.name + ' is ' + chr.age; })\n     *     .first()\n     *     .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      value = new lodashWrapper(value);\n      value.__chain__ = true;\n      return value;\n    }\n\n    /**\n     * Invokes `interceptor` with the `value` as the first argument and then\n     * returns `value`. The purpose of this method is to \"tap into\" a method\n     * chain in order to perform operations on intermediate results within\n     * the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chaining\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3, 4])\n     *  .tap(function(array) { array.pop(); })\n     *  .reverse()\n     *  .value();\n     * // => [3, 2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chaining\n     * @returns {*} Returns the wrapper object.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(characters).first();\n     * // => { 'name': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(characters).chain()\n     *   .first()\n     *   .pick('age')\n     *   .value();\n     * // => { 'age': 36 }\n     */\n    function wrapperChain() {\n      this.__chain__ = true;\n      return this;\n    }\n\n    /**\n     * Produces the `toString` result of the wrapped value.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chaining\n     * @returns {string} Returns the string result.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return String(this.__wrapped__);\n    }\n\n    /**\n     * Extracts the wrapped value.\n     *\n     * @name valueOf\n     * @memberOf _\n     * @alias value\n     * @category Chaining\n     * @returns {*} Returns the wrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).valueOf();\n     * // => [1, 2, 3]\n     */\n    function wrapperValueOf() {\n      return this.__wrapped__;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions that return wrapped values when chaining\n    lodash.after = after;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.chain = chain;\n    lodash.compact = compact;\n    lodash.compose = compose;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.createCallback = createCallback;\n    lodash.curry = curry;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.map = map;\n    lodash.mapValues = mapValues;\n    lodash.max = max;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.min = min;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.pull = pull;\n    lodash.range = range;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.shuffle = shuffle;\n    lodash.sortBy = sortBy;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.values = values;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n\n    // add aliases\n    lodash.collect = map;\n    lodash.drop = rest;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n    lodash.unzip = zip;\n\n    // add functions to `lodash.prototype`\n    mixin(lodash);\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions that return unwrapped values when chaining\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.contains = contains;\n    lodash.escape = escape;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.indexOf = indexOf;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isNaN = isNaN;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isUndefined = isUndefined;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.mixin = mixin;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.template = template;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n\n    // add aliases\n    lodash.all = every;\n    lodash.any = some;\n    lodash.detect = find;\n    lodash.findWhere = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.include = contains;\n    lodash.inject = reduce;\n\n    mixin(function() {\n      var source = {}\n      forOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }(), false);\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions capable of returning wrapped and unwrapped values when chaining\n    lodash.first = first;\n    lodash.last = last;\n    lodash.sample = sample;\n\n    // add aliases\n    lodash.take = first;\n    lodash.head = first;\n\n    forOwn(lodash, function(func, methodName) {\n      var callbackable = methodName !== 'sample';\n      if (!lodash.prototype[methodName]) {\n        lodash.prototype[methodName]= function(n, guard) {\n          var chainAll = this.__chain__,\n              result = func(this.__wrapped__, n, guard);\n\n          return !chainAll && (n == null || (guard && !(callbackable && typeof n == 'function')))\n            ? result\n            : new lodashWrapper(result, chainAll);\n        };\n      }\n    });\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = '2.4.1';\n\n    // add \"Chaining\" functions to the wrapper\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.value = wrapperValueOf;\n    lodash.prototype.valueOf = wrapperValueOf;\n\n    // add `Array` functions that return unwrapped values\n    forEach(['join', 'pop', 'shift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        var chainAll = this.__chain__,\n            result = func.apply(this.__wrapped__, arguments);\n\n        return chainAll\n          ? new lodashWrapper(result, chainAll)\n          : result;\n      };\n    });\n\n    // add `Array` functions that return the existing wrapped value\n    forEach(['push', 'reverse', 'sort', 'unshift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        func.apply(this.__wrapped__, arguments);\n        return this;\n      };\n    });\n\n    // add `Array` functions that return new wrapped values\n    forEach(['concat', 'slice', 'splice'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        return new lodashWrapper(func.apply(this.__wrapped__, arguments), this.__chain__);\n      };\n    });\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // expose Lo-Dash\n  var _ = runInContext();\n\n  // some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lo-Dash to the global object even when an AMD loader is present in\n    // case Lo-Dash is loaded with a RequireJS shim config.\n    // See http://requirejs.org/docs/api.html#config-shim\n    root._ = _;\n\n    // define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module\n    define(function() {\n      return _;\n    });\n  }\n  // check for `exports` after `define` in case a build optimizer adds an `exports` object\n  else if (freeExports && freeModule) {\n    // in Node.js or RingoJS\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // in Narwhal or Rhino -require\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // in a browser or Rhino\n    root._ = _;\n  }\n}.call(this));\n","/**\n * @name THREEx\n * three.js extensions\n * @type {Object}\n */\nmodule.exports = {\n  WindowResize: require('./WindowResize'),\n  FullScreen: require('./FullScreen')\n};","/**\n * @module  lib/THREEx/WindowResize\n */\n\n/**\n * This helper makes it easy to handle window resize.\n * It will update renderer and camera when window is resized.\n *\n * @example\n * // Start updating renderer and camera\n * var windowResize = WindowResize(aRenderer, aCamera);\n * //Start updating renderer and camera\n * windowResize.stop()\n *\n * @namespace\n * @param {Object} renderer the renderer to update\n * @param {Object} Camera the camera to update\n */\nvar windowResize = function (renderer, camera) {\n\tvar callback = function() {\n\t\t// notify the renderer of the size change\n\t\trenderer.setSize( window.innerWidth, window.innerHeight );\n\t\t// update the camera\n\t\tcamera.aspect\t= window.innerWidth / window.innerHeight;\n\t\tcamera.updateProjectionMatrix();\n\t};\n\t// bind the resize event\n\twindow.addEventListener('resize', callback, false);\n\t// return .stop() the function to stop watching window resize\n\treturn {\n\t\tstop\t: function(){\n\t\t\twindow.removeEventListener('resize', callback);\n\t\t}\n\t};\n};\n\n/**\n * @static\n * @param  {THREE.WebGLRenderer} renderer\n * @param  {THREE.PerspectiveCamera} camera\n * @return {Object}\n */\nwindowResize.bind\t= function(renderer, camera){\n\treturn windowResize(renderer, camera);\n};\n\nmodule.exports = windowResize;","/**\n * @module  lib/THREEx/FullScreen\n */\n\n/**\n* This helper makes it easy to handle the fullscreen API:\n* \n* - it hides the prefix for each browser\n* - it hides the little discrepencies of the various vendor API\n* - at the time of this writing (nov 2011) it is available in \n* \n*   [firefox nightly](http://blog.pearce.org.nz/2011/11/firefoxs-html-full-screen-api-enabled.html),\n*   [webkit nightly](http://peter.sh/2011/01/javascript-full-screen-api-navigation-timing-and-repeating-css-gradients/) and\n*   [chrome stable](http://updates.html5rocks.com/2011/10/Let-Your-Content-Do-the-Talking-Fullscreen-API).\n* \n* @namespace\n*/\nvar fullScreen = {};\n\n/**\n * test if it is possible to have fullscreen\n * @returns {boolean} true if fullscreen API is available, false otherwise\n */\nfullScreen.available = function () {\n  return this._hasWebkitFullScreen || this._hasMozFullScreen;\n};\n\n/**\n * Test if fullscreen is currently activated\n * @returns {boolean} true if fullscreen is currently activated, false otherwise\n */\nfullScreen.activated = function () {\n  if (this._hasWebkitFullScreen) {\n    return document.webkitIsFullScreen;\n  } else if (this._hasMozFullScreen) {\n    return document.mozFullScreen;\n  } else {\n    console.assert(false);\n  }\n};\n\n/**\n * Request fullscreen on a given element\n * @param {DomElement} element to make fullscreen. optional. default to document.body\n */\nfullScreen.request = function (element) {\n  element = element || document.body;\n  if (this._hasWebkitFullScreen) {\n    element.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);\n  } else if (this._hasMozFullScreen) {\n    element.mozRequestFullScreen();\n  } else {\n    console.assert(false);\n  }\n};\n\n/**\n * Cancel fullscreen\n */\nfullScreen.cancel = function () {\n  if (this._hasWebkitFullScreen) {\n    document.webkitCancelFullScreen();\n  } else if (this._hasMozFullScreen) {\n    document.mozCancelFullScreen();\n  } else {\n    console.assert(false);\n  }\n};\n\n\n// internal functions to know which fullscreen API implementation is available\nfullScreen._hasWebkitFullScreen = 'webkitCancelFullScreen' in document ? true : false;\nfullScreen._hasMozFullScreen = 'mozCancelFullScreen' in document ? true : false;\n\n/**\n * Bind a key to renderer screenshot\n * @param {Object} opts\n * @param {Object} [opts.charcode=f]\n * @param {Object} [opts.dblClick=false] True to make it go\n * fullscreen on double click\n */\nfullScreen.bindKey = function (opts) {\n  opts = opts || {};\n  var charCode = opts.charCode || 'f'.charCodeAt(0);\n  var dblclick = opts.dblclick !== undefined ? opts.dblclick : false;\n  var element = opts.element;\n\n  var toggle = function () {\n    if (fullScreen.activated()) {\n      fullScreen.cancel();\n    } else {\n      fullScreen.request(element);\n    }\n  };\n\n  // callback to handle keypress\n  var __bind = function (fn, me) {\n    return function () {\n      return fn.apply(me, arguments);\n    };\n  };\n  var onKeyPress = __bind(function (event) {\n    // return now if the KeyPress isnt for the proper charCode\n    if (event.which !== charCode) { return; }\n    // toggle fullscreen\n    toggle();\n  }, this);\n\n  // listen to keypress\n  // NOTE: for firefox it seems mandatory to listen to document directly\n  document.addEventListener('keypress', onKeyPress, false);\n  // listen to dblclick\n  dblclick && document.addEventListener('dblclick', toggle, false);\n\n  return {\n    unbind: function () {\n      document.removeEventListener('keypress', onKeyPress, false);\n      dblclick && document.removeEventListener('dblclick', toggle, false);\n    }\n  };\n};\n\nmodule.exports = fullScreen;"]}